




	
	
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="CC 210 Textbook">
    <meta name="author" content="Russell Feldhausen">
    <title>Exceptions :: CC 210 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cc210/10-exceptions/index.html" rel="canonical" type="text/html" title="Exceptions :: CC 210 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc210/10-exceptions/index.xml" rel="alternate" type="application/rss+xml" title="Exceptions :: CC 210 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc210/10-exceptions/tele.html" rel="alternate" type="text/html" title="Exceptions :: CC 210 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc210/10-exceptions/embed.html" rel="alternate" type="text/html" title="Exceptions :: CC 210 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/fontawesome-all.min.css?1698267029" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc210/css/fontawesome-all.min.css?1698267029" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/nucleus.css?1698267029" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/auto-complete.css?1698267029" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc210/css/auto-complete.css?1698267029" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/perfect-scrollbar.min.css?1698267029" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/fonts.css?1698267029" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc210/css/fonts.css?1698267029" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/theme.css?1698267029" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/theme-auto.css?1698267029" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/variant.css?1698267029" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/print.css?1698267029" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/format-print.css?1698267029" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/ie.css?1698267029" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/url.js?1698267029"></script>
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/variant.js?1698267029"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cc210/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cc210/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cc210/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/custom.css?1698267029" rel="stylesheet">

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cc210/10-exceptions/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-tele-link">
            <a class="print-link" title='Teleprompter View' href="https://ksu-cs-textbooks.github.io/cc210/10-exceptions/tele.html">
              <i class="fas fa-tv fa-fw"></i>
            </a>
          </div>
          <div id="top-embed-link">
            <a class="print-link" title='Embeddable Version' href="https://ksu-cs-textbooks.github.io/cc210/10-exceptions/embed.html">
              <i class="fas fa-expand-arrows-alt fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cc210/index.html"><span itemprop="name">CC 210 Textbook</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Exceptions</span><meta itemprop="position" content="2"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable chapter narrow" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 10</div>
<h1 id="exceptions">Exceptions</h1>

<p>What To Do When Things Don&rsquo;t Go Right!</p>
<!-- TODO Refactor Java Project to use Driver? -->
<!-- TODO Fix Tutorial File Handling - untar from source each time? -->
            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Exceptions</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="exceptions-happen">Exceptions Happen</h1>

<p>A good computer program should always run properly and produce the desired output. That is the whole point of writing code such that a computer can follow those instructions perfectly, with unerring accuracy and unrivaled speed.</p>
<p>However, the real world, and the people that occupy it, is anything but perfect. Computers can crash, users can provide faulty input, and even the best programmers can create code that doesn&rsquo;t work exactly as intended. So, we need to have another tool in our arsenal of skills to help us deal with these issues in our programs.</p>
<p>When a computer program runs into a problem, we call that an <em>exception</em>. We most commonly use the word exception to indicate that something doesn&rsquo;t fit in a particular category or follow a rule, as in &ldquo;we usually don&rsquo;t allow students in the faculty lounge, but I&rsquo;ll make an exception for you.&rdquo;</p>
<p>We can think of an <em>exception</em> in a computer program in a similar way. It is a program that has failed to follow a particular rule for some reason. Thankfully, we can write special code called <em>exception handlers</em> into our programs to <em>handle</em> these exceptions, without causing the program to stop running. In fact, many modern pieces of software may handle large numbers of exceptions each time they execute, allowing the program to continue to operate even when the user or the system isn&rsquo;t cooperating.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="what-is-an-exception">What is an Exception?</h1>

<p>An <em>exception</em> is an error caused by some problem in a computer program. It could be due to invalid input from the user, an issue with the system that the code is running on, or even a bug or unintended situation written into the code itself.</p>
<p>For example, we know from mathematics that we cannot divide a number by 
<span class="math align-center">$ 0 $</span>. Specifically, the result of dividing any number by zero is <em>undefined</em>, so we have no way of expressing that value. In a computer program, we can cause an exception by attempting to divide any number by 0, since even a computer has no way to handle that situation and store the result in a variable. So our program would crash, unless we wrote code to handle that situation and correct the error.</p>
<p>Another common cause of an exception would be trying to read data from a file that doesn&rsquo;t exist. Let&rsquo;s assume that the user is asked to enter a filename, but accidentally spells the name incorrectly. When our program asks the underlying operating system to open that file, the operating system will tell our program that the file doesn&rsquo;t exist, so we can&rsquo;t open it and read the data. That will cause an exception in our program! In this case, we could easily write code that handles that exception and asks the user to input the file name again, preventing the user from having to restart the program just to recover from such a simple error.</p>
<p>In this chapter, we&rsquo;ll see how to handle many common exceptions in our programs, as well as how to create our own exceptions when we detect errors in our own code.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="exception-vs-error">Exception vs. Error</h1>

<p>Problems in a computer program can typically be divided into two categories: <em>exceptions</em> and <em>errors</em>. While these terms are used interchangeably by many programmers, there is a specific difference between these two types of problems. In this course, we&rsquo;ll try to stick to the following convention:</p>
<ul>
<li><strong>Exception</strong>: An exception is a problem encountered by a running computer program (we could also say &ldquo;at runtime&rdquo;) which can be <em>handled</em>, or detected and corrected, by the program itself. This may include asking the user to provide new input, manipulating data, or retrying an operation that failed.</li>
<li><strong>Error</strong>: An error is a problem which <em>cannot</em> be solved by the program itself, and usually results in the program&rsquo;s termination. This could include syntax errors and unexpected system issues, such as a lack of memory.</li>
</ul>
<p>We&rsquo;ll see many examples of both exceptions and errors later in this chapter.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="handling-exceptions">Handling Exceptions</h1>

<p><a href="https://www.youtube.com/watch?v=Tp9jbKRVqQI">YouTube Video</a></p>
<p><a href="https://ksu-cs-textbooks.github.io/cc210/10-exceptions/04-handling-exceptions/video/">Video Materials</a>
</p>
<p>Now that we&rsquo;ve learned a bit about what exceptions are, let&rsquo;s take a look at an example to see how we might encounter exceptions in our programs and how we can possibly handle them.</p>
<p>Consider the following program:</p>
<p>
<a href="#image-3ed73629b99f6d1b95a3fb73d71185d5" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/10-except/8.4.handle.png" alt="Exceptions Example Flowchart" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-3ed73629b99f6d1b95a3fb73d71185d5">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/10-except/8.4.handle.png" alt="Exceptions Example Flowchart" class="lightbox-image" loading="lazy">
</a></p>
<p>In this program, we first get the name of a file to open from the user. Then, we open that file and create a reader to allow us to read data from the file. After that, we read the first item of the file into a variable, and finally we print that variable to the screen. It&rsquo;s a very simple program, but there are several places where an exception could occur.</p>
<h3 id="file-not-found">File Not Found</h3>
<p>First, when we try to open the file, we could find out that the file does not exist. In most programming languages, that situation would cause an exception when this line is executed:</p>
<p>
<a href="#image-eab0773eacf7bcd7cceecf4066b40a7b" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/10-except/8.4.nofile.png" alt="File Not Found Exception Flowchart" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-eab0773eacf7bcd7cceecf4066b40a7b">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/10-except/8.4.nofile.png" alt="File Not Found Exception Flowchart" class="lightbox-image" loading="lazy">
</a></p>
<h3 id="io-error">IO Error</h3>
<p>In addition, at any time we try to read data from a file, we could get an IO (input/output) error from the operating system. This can happen if the file suddenly becomes inaccessible, or if the system is unable to read the data correctly from the storage device it is stored on. In that case, we&rsquo;ll get an exception from executing this line of code:</p>
<p>
<a href="#image-1e73646d36fd67a1825eeb3acb580faf" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/10-except/8.4.ioerror.png" alt="IO Exception Flowchart" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-1e73646d36fd67a1825eeb3acb580faf">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/10-except/8.4.ioerror.png" alt="IO Exception Flowchart" class="lightbox-image" loading="lazy">
</a></p>
<h2 id="handling-exceptions">Handling Exceptions</h2>
<p>To handle these exceptions, we can simply mark the section of our code where an exception may occur. Each programming language does this a bit differently, but the idea is the same. In the flowchart below, I&rsquo;ve drawn a box around several parts of the program that we know may cause an exception. Then, along with that section, we can specify <em>exception handler</em> code to be executed in the case that an exception occurs. So, in this example, our program will simply print <code>Error</code> and terminate instead of trying to open and read the file.</p>
<p>
<a href="#image-6f65931846ebd286af198c8941f19a32" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/10-except/8.4.try.png" alt="Handle Exception Flowchart" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-6f65931846ebd286af198c8941f19a32">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/10-except/8.4.try.png" alt="Handle Exception Flowchart" class="lightbox-image" loading="lazy">
</a></p>
<p>So, let&rsquo;s go back and revisit one of the exceptions listed above. Now, when the user provides an invalid file as input, our program would execute the highlighted steps in the flowchart below:</p>
<p>
<a href="#image-3f75295630cfb920486d48ed67075c59" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/10-except/8.4.catch.png" alt="Handled File Not Found Exception Flowchart" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-3f75295630cfb920486d48ed67075c59">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/10-except/8.4.catch.png" alt="Handled File Not Found Exception Flowchart" class="lightbox-image" loading="lazy">
</a></p>
<p>As we can see in this flowchart, when our program reaches an exception, it immediately switches over to the exception handler code to handle that exception.</p>
<p>Of course, there are many different ways we can structure this program to achieve the same outcome. Later in this chapter we&rsquo;ll learn how to handle exceptions in our chosen programming language.</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Handling Exceptions</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="creating-exceptions">Creating Exceptions</h1>

<p>We can also create our own exceptions to handle specific situations in our own programs. Consider the following program flowchart:</p>
<p>
<a href="#image-c87389a701e1be02593e41b4106a1deb" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/10-except/8.5.throw.png" alt="Creating Exception Flowchart" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-c87389a701e1be02593e41b4106a1deb">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/10-except/8.5.throw.png" alt="Creating Exception Flowchart" class="lightbox-image" loading="lazy">
</a></p>
<p>In this program, we first accept input from the user. Then, if that input is less than $0$, we create an exception (as indicated by the triangle containing <code>Err</code> in the flowchart). If the input is greater than or equal to 0, we&rsquo;ll just output it.</p>
<p>Of course, creating an exception in this way is probably not the best way to go about this. Instead, we could probably just use an <strong>If</strong> statement to achieve the same result. In fact, we already have one in our code!</p>
<p>However, as we start building larger and more complex programs, we may find it very useful to be able to create our own exceptions in one part of the program, then detect and handle them somewhere else. It would be impossible to do this with a simple <strong>If</strong> statement.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 6.J</div>
<h1 id="java-exceptions">Java Exceptions</h1>

<p>Exceptions in Java</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Java Exceptions</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="common-exceptions--errors">Common Exceptions &amp; Errors</h1>

<p>Before we learn about how to detect and handle exceptions in Java, let&rsquo;s review some of the common exceptions and errors we may see in our programs. Each of the headers below is the name of an exception in Java, which is represented by a particular class in the Java programming language.</p>
<h2 id="exception">Exception</h2>
<p><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html" target="_blank">Java 8 API Reference</a>
</p>
<p>Every exception that can be handled in Java is a subtype of the Exception class. So, when we aren&rsquo;t sure which type of exception to expect, we can always use the Exception class to make sure we catch all of them.</p>
<h2 id="arithmeticexception">ArithmeticException</h2>
<p><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ArithmeticException.html" target="_blank">Java 8 API Reference</a>
</p>
<p>An ArithmeticException can occur whenever our program attempts to perform a calculation that would result in an undefined value. In Java, this is the case when we divide by 0. So, the following code would generate an ArithmeticException:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> 10<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> c <span style="color:#f92672">=</span> a <span style="color:#f92672">/</span> b<span style="color:#f92672">;</span> <span style="color:#75715e">// throws ArithmeticException
</span></span></span></code></pre></div><p>However, when using floating point values, the result is different:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">double</span> a <span style="color:#f92672">=</span> 5<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> b <span style="color:#f92672">=</span> 0<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> c <span style="color:#f92672">=</span> a <span style="color:#f92672">/</span> b<span style="color:#f92672">;</span> <span style="color:#75715e">// Infinity
</span></span></span></code></pre></div><p>In short, this is because the standard for floating point numbers defines Infinity as <code>1.0 / 0.0</code>, so it is a valid value according to the standard definition for floating point numbers.</p>
<h2 id="arrayindexoutofboundsexception">ArrayIndexOutOfBoundsException</h2>
<p><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ArrayIndexOutOfBoundsException.html" target="_blank">Java 8 API Reference</a>
</p>
<p>An ArrayIndexOutOfBoundsException happens when we try to access an array index that does not exist. Here&rsquo;s a great example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> array <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span>5<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span>array<span style="color:#f92672">[</span>5<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> 10<span style="color:#f92672">;</span> <span style="color:#75715e">// throws ArrayIndexOutOfBoundsException
</span></span></span></code></pre></div><p>In this example, we are trying to access the 6th element in the array, which is at array index 5. However, since the size of the array is only 5, we&rsquo;ll get an ArrayIndexOutOfBoundsException when we try to execute this code since there is no 6th element.</p>
<h2 id="stringindexoutofboundsexception">StringIndexOutOfBoundsException</h2>
<p><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/StringIndexOutOfBoundsException.html" target="_blank">Java 8 API Reference</a>
</p>
<p>Similar to the ArrayIndexOutOfBoundsException above, a StringIndexOutOfBoundsException occurs when we try to access an invalid index of a character in a string. Here&rsquo;s a couple of examples:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;abc&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">char</span> c <span style="color:#f92672">=</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">charAt</span><span style="color:#f92672">(</span>3<span style="color:#f92672">);</span> <span style="color:#75715e">// throws StringIndexOutOfBoundsException
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> d <span style="color:#f92672">=</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">charAt</span><span style="color:#f92672">(-</span>1<span style="color:#f92672">);</span> <span style="color:#75715e">// throws StringIndexOutOfBoundsException
</span></span></span></code></pre></div><p>In this example, we are first trying to access the character at index 3. Just like with arrays, that would be the 4th character in the string. Since the string only contains 3 characters, it would result in an exception. Likewise, we cannot access a negative character index in Java, so it would also cause this exception to be thrown.</p>
<h2 id="filenotfoundexception">FileNotFoundException</h2>
<p><a href="https://docs.oracle.com/javase/8/docs/api/java/io/FileNotFoundException.html" target="_blank">Java 8 API Reference</a>
</p>
<p>This exception occurs when the program is trying to open a file that does not exist. This is one of the more common errors that programmers must deal with when using files for input, and it is relatively simple to correct. In most cases, we can simply ask the user to provide another file. Here&rsquo;s an example of some code that may cause this exception:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>Scanner scanner <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span>filename<span style="color:#f92672">));</span> <span style="color:#75715e">// throws FileNotFoundException
</span></span></span></code></pre></div><p>In this case, we are providing a blank filename, which causes the program to throw a FileNotFoundException.</p>
<h2 id="ioexception">IOException</h2>
<p><a href="https://docs.oracle.com/javase/8/docs/api/index.html?java/io/IOException.html" target="_blank">Java 8 API Reference</a>
</p>
<p>An IOException is thrown whenever the program encounters a problem performing some input or output operation. This can be due to an error in the file it is reading from, a bug in the underlying operating system, or many other problems that can occur while a program is reading or writing data.</p>
<p>For example, reading input using a Scanner object can result in an IOException, both when reading from the terminal using <code>System.in</code>, or when reading from a file. So, in general, anytime we are reading input from any source, we must always consider the fact that an IOException can occur.</p>
<p>Thankfully, these errors are very rare on most modern computers, but they are something that can be dealt with.</p>
<h2 id="numberformatexception">NumberFormatException</h2>
<p><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NumberFormatException.html" target="_blank">Java 8 API Reference</a>
</p>
<p>A NumberFormatException is used in Java when we try to convert a string to a number but it doesn&rsquo;t work. See the sample code below to see how this could occur:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;abc&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>s<span style="color:#f92672">);</span> <span style="color:#75715e">// throws NumberFormatException
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">double</span> d <span style="color:#f92672">=</span> Double<span style="color:#f92672">.</span><span style="color:#a6e22e">parseDouble</span><span style="color:#f92672">(</span>s<span style="color:#f92672">);</span> <span style="color:#75715e">// throws NumberFormatException
</span></span></span></code></pre></div><p>This exception is really useful when we are asking the user to provide a number that fits a particular format. By detecting this exception, we know that the user entered an invalid number, so we may have to prompt the user for another input.</p>
<h2 id="nosuchelementexception">NoSuchElementException</h2>
<p><a href="https://docs.oracle.com/javase/8/docs/api/java/util/NoSuchElementException.html" target="_blank">Java 8 API Reference</a>
</p>
<p>A NoSuchElementException happens when a Scanner object tries to read input when there is no input available to read.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Scanner reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">in</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> reader<span style="color:#f92672">.</span><span style="color:#a6e22e">nextInt</span><span style="color:#f92672">();</span> <span style="color:#75715e">// throws NoSuchElementException if the input is empty;
</span></span></span></code></pre></div><h2 id="illegalargumentexception">IllegalArgumentException</h2>
<p><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" target="_blank">Java 8 API Reference</a>
</p>
<p>This exception is typically used by developers to indicate that a particular input to a program is invalid. Many developers also use it in their own code as a custom exception.</p>
<h2 id="assertionerror">AssertionError</h2>
<p><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AssertionError.html" target="_blank">Java 8 API Reference</a>
<br>
<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/language/assert.html" target="_blank">Programming with Assertions</a>
</p>
<p>An AssertionError happens when our code reaches an <em>assertion</em> that fails. An assertion is a check added by the programmer to verify that a particular situation doesn&rsquo;t occur in the code, such as a variable being negative or an array being too large. Java supports the use of a special keyword <code>assert</code> that can be used to add these assertions to our code. By default, the Java runtime environment ignores any <code>assert</code> keywords, but they can easily be enabled by adding <code>-ea</code> as an argument to the <code>java</code> command when running a program. This is a helpful step when debugging a new application. We&rsquo;ll learn more about assertions and how they can be used effectively in a later chapter.</p>
<p>For now, here&rsquo;s a quick example of an assertion that would produce an AssertionError:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> 5<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> y <span style="color:#f92672">=</span> 3<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">assert</span> x <span style="color:#f92672">+</span> y <span style="color:#f92672">&lt;</span> 7<span style="color:#f92672">;</span> <span style="color:#75715e">// throws AssertionError if enabled
</span></span></span></code></pre></div><h2 id="errors">Errors</h2>
<p>Beyond exceptions, there are a few unrecoverable errors that may occur in our Java code. Recall that errors are special types of exceptions that should not be handled by our programs, and should instead be allowed to cause our programs to crash. Some examples are:</p>
<ul>
<li>StackOverflowError - occurs when we have used up all of the available stack space in the Java virtual machine .. this usually happens with because of an infinite loops</li>
<li>OutofMemoryError - occurs when we have used up all of the available system memory   &hellip; this rarely happens but again can be caused by an  infinite loop</li>
</ul>
<p>In addition, the Java compiler helps us detect many other errors, such as syntax and type errors that would cause our code to be unusable. Other languages, such as Python, have to deal with these errors at runtime, so there are many more unrecoverable errors in that language compared to Java.</p>
<h3 id="references">References:</h3>
<ul>
<li><a href="https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html" target="_blank">Lesson: Exceptions</a>
 from Oracle&rsquo;s Java Tutorials</li>
<li><a href="https://www.geeksforgeeks.org/exceptions-in-java/" target="_blank">Exceptions in Java</a>
 from GeeksforGeeks</li>
<li><a href="https://www.geeksforgeeks.org/built-exceptions-java-examples/" target="_blank">Built-in Exceptions in Java with Examples</a>
 on GeeksforGeeks</li>
</ul>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="checked-vs-unchecked-exceptions">Checked vs. Unchecked Exceptions</h1>

<p>Beyond the difference between exceptions and errors we&rsquo;ve already discussed, Java also makes a distinction between two types of exceptions, <em>checked</em> exceptions and <em>unchecked</em> exceptions. Let&rsquo;s look more closely at each of these groups below.</p>
<h2 id="checked-exceptions">Checked Exceptions</h2>
<p>A <em>checked exception</em> is detected by the Java compiler. When it detects a checked exception, the compiler then looks to see if the exception will be detected and handled within the code. If not, it will then check to see if the method containing that code includes a <code>throws</code> clause<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> at the end of the method declaration that includes this particular exception. If neither of those is the case, then the compiler will output an error and refuse to compile the code. So, the developer must add one of these two things to the code in order for the compiler to be satisfied.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Unchecked Exceptions at Compile Time</div>
  <div class="box-content">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>error: unreported exception someException; must be caught or declared to be thrown</span></span></code></pre></div><p>If you get this type of message from the compiler, you have 2 choices.</p>
<ol>
<li>Add <code>throws someException</code> to the signature line<br><code>public void someMethod() throws someException {}</code></li>
<li>Handle the exception with a try-catch block (discussed in this module)</li>
</ol>
<p>In this class you will generally handle the exception.</p>
</div>
</div>
<h2 id="unchecked-exceptions">Unchecked Exceptions</h2>
<p>An <em>unchecked exception</em> is one that is not detected by the Java compiler. These are exceptions that can occur at runtime, but would be difficult or impossible to detect when compiling the code. However, in many cases they can easily be detected or prevented from within the program itself. So, the compiler does not require us to add code to either handle those exceptions or declare them to be thrown in to our method declaration.</p>
<p>An ArithmeticException is a good example of an unchecked exception. Any division operation could result in an ArithmeticException, but the compiler does not require us to add additional code to handle that exception or declare it to be thrown. However, it is still good practice to either detect and handle this error, or use code or assertions to prevent it from occurring in the first place.</p>
<h2 id="errors">Errors</h2>
<p>As discussed before, <em>errors</em> are a special type of exception that cannot be easily handled by the program. These are usually due to issues in the underlying operating system, and typically cause the program to crash.</p>
<h3 id="references">References</h3>
<ul>
<li><a href="https://www.geeksforgeeks.org/checked-vs-unchecked-exceptions-in-java/" target="_blank">Checked vs Unchecked Exceptions in Java</a>
 from GeeksforGeeks</li>
<li><a href="https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html" target="_blank">Unchecked Exceptions - The Controversy</a>
 from Oracle</li>
<li><a href="https://www.geeksforgeeks.org/errors-v-s-exceptions-in-java/" target="_blank">Errors vs Exceptions in Java</a>
 from GeeksforGeeks</li>
</ul>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><code>throws</code> is a keyword in Java. It is only used to tell the compiler to ignore the lack of a handler for the checked exception&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="try-catch">Try-Catch</h1>

<p><a href="https://www.youtube.com/watch?v=QvH6BImQxII">YouTube Video</a></p>
<p><a href="https://ksu-cs-textbooks.github.io/cc210/10-exceptions/06-java/03-try-catch/video/">Video Materials</a>
</p>
<p>Programs written in Java can have many exceptions occur on a regular basis. Thankfully, as we learned earlier, it is possible to detect and handle these exceptions in our code directly, in order to prevent our program crashing and causing the user more stress. Let&rsquo;s see how we can perform this step in Java.  A <b>Try-Catch</b> construct is synonymous with &ldquo;handler&rdquo;.</p>
<h2 id="try-catch">Try-Catch</h2>
<p>In Java, we use a <strong>Try-Catch</strong> construct to detect and handle exceptions in our code. Let&rsquo;s look at a quick example, and then we can discuss how it works.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.lang.Exception<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Example</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>    Scanner reader<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>      reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">in</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>reader<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>x<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>Exception e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>First, we use the <code>try</code> keyword, followed by curly braces <code>{}</code> around a block of code. If any exceptions occur in the code contained in the <code>try</code> statement, we can add <code>catch</code> statements to handle that exception.</p>
<p>Directly following the closing curly brace after the <code>try</code> block, we must include at least one <code>catch</code> statement. The <code>catch</code> keyword is followed by the name of an exception and a variable for that exception in parentheses <code>()</code>. In this example, we are just catching the generic <code>Exception</code> type, which will match any catchable exception. We&rsquo;ll see how we can detect specific exceptions in a later example. Then, we have one more block of code contained in curly braces <code>{}</code> that is executed when we detect an exception. We can use the variable for the exception, in this case <code>e</code>, to access additional details about the exception we&rsquo;ve detected.</p>
<p>Finally, notice that we also must add <code>import java.lang.Exception</code> to the top of our file. We&rsquo;ll need to import any exceptions we want to catch in order to use them.</p>
<h2 id="which-exceptions-to-catch">Which Exceptions to Catch?</h2>
<p>When writing code, it can sometimes be very difficult to even know which exceptions to expect from a particular piece of code. Thankfully, the <a href="https://docs.oracle.com/javase/8/docs/api/index.html" target="_blank">Java 8 API Reference</a>
 includes quite a bit of information, including which exceptions can be thrown by a particular method.</p>
<p>Let&rsquo;s return to our earlier example. Here is the code contained in the <code>try</code> block:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">in</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>reader<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>x<span style="color:#f92672">);</span></span></span></code></pre></div><p>While this may look like a very simple few lines of code, there are actually several exceptions that could be produced here. Below is a list of them, followed by a link to the Java 8 API reference for the source of that exception:</p>
<ul>
<li>FileNotFoundException - <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#Scanner-java.io.File-" target="_blank">new Scanner(File) Constructor</a>
</li>
<li>NumberFormatException - <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-" target="_blank">Integer.parseInt()</a>
</li>
<li>NoSuchElementException - <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#nextLine--" target="_blank">Scanner.nextLine()</a>
</li>
<li>IllegalStateException - <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#nextLine--" target="_blank">Scanner.nextLine()</a>
</li>
</ul>
<p>When writing truly bulletproof code, it is a good idea to attempt to catch and handle all of these exceptions if possible. You can always refer to the official Java 8 API reference to see what exceptions could be produced by any methods you use that are a part of the main Java language. Later on in this chapter we&rsquo;ll discuss some best practices when it comes to detecting and handling exceptions in code.</p>
<h2 id="handling-multiple-exceptions">Handling Multiple Exceptions</h2>
<p>Of course, we can add multiple <code>catch</code> statements after any <code>try</code> block to catch different types of exceptions.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.lang.NumberFormatException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Example</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>    Scanner reader<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>      reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">in</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>reader<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>x<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>IOException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: IO Exception!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>NumberFormatException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: Input Does Not Match Expected Format!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>In the example code above, we see three different <code>catch</code> statements, each of which will handle a different type of exception. When an exception occurs in the code contained in a <code>try</code> block, the Java runtime will create the exception, and then it will search for the first handler that matches. So, it will begin with the first <code>catch</code> statement, and see if the exception created matches the type of the exception in parenthesis. If so, it will execute the code inside of that <code>catch</code> block. If not, it will continue to the next <code>catch</code> statement. If none of the <code>catch</code> statements match the exception, then it will be <em>thrown</em> and cause the program to stop executing.</p>
<h2 id="exception-hierarchy">Exception Hierarchy</h2>
<p>The exceptions in Java form a hierarchical structure, meaning that an exception may match multiple types. For example, all exceptions that programs can catch are based on the generic Exception type. So, FileNotFoundException and ArrayIndexOutOfBoundsException would both match the Exception type.</p>
<p>In addition, many exceptions are descended from the IOException type. For example, FileNotFoundException is based on IOException, which itself is based on the Exception type. So, a FileNotFoundException would match any of those three types of exceptions. It can make things a bit tricky!</p>
<p>So, how can we know what types of exceptions we are dealing with, and what the hierarchy is? Thankfully, the <a href="https://docs.oracle.com/javase/8/docs/api/index.html" target="_blank">Java 8 API Reference</a>
 contains information about all possible exceptions, including the entire hierarchy of that exception.</p>
<p>For example, here is a screenshot from the <a href="https://docs.oracle.com/javase/8/docs/api/java/io/FileNotFoundException.html" target="_blank">FileNotFoundException</a>
 page showing its hierarchy:</p>
<p>
<a href="#image-56b92c6e936049e4790621d645e74bec" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/10-except/8.7.j.3.filenotfound.png" alt="FileNotFoundException Hierarchy" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-56b92c6e936049e4790621d645e74bec">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/10-except/8.7.j.3.filenotfound.png" alt="FileNotFoundException Hierarchy" class="lightbox-image" loading="lazy">
</a></p>
<p>Because of this, we must be careful about how we order the catch statements. In general, we want to place the more specific exceptions first (the ones further down the hierarchy), and the more generic exceptions later.</p>
<p>Let&rsquo;s look at an example of poor ordering of exception handlers:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.File<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.FileNotFoundException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.lang.NumberFormatException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Example</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>    Scanner reader<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>      reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;input.txt&#34;</span><span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>reader<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>x<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>IOException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: IO Exception!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>FileNotFoundException e<span style="color:#f92672">){</span>s
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: File Not Found!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>NumberFormatException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: Input Does Not Match Expected Format!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>In the code above, we are catching the IOException first. So, if the code produces a FileNotFoundException, it will be caught and handled by the first <code>catch</code> statement, since FileNotFoundException is also an IOException. Therefore, we wouldn&rsquo;t want to order our <code>catch</code> statements in this way.</p>

  
  
<div class="box notices cstyle note">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> Reading Files</div>
  <div class="box-content">

<p>This chapter introduces the basic code for reading files using a <code>Scanner</code> object. It is mainly presented as a way to introduce some of the more common exceptions related to file input and output. We&rsquo;ll cover the actual process of reading and writing from files in a later chapter.</p>
</div>
</div>
<h2 id="try-it">Try It!</h2>
<p>Let&rsquo;s see if we can write a very simple program to catch and handle a few common exceptions. Here&rsquo;s some code to start with:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.File<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Try</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>    Scanner reader<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">in</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>reader<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> y <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>reader<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> z <span style="color:#f92672">=</span> x <span style="color:#f92672">/</span> y<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>z<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>For this example, place this starter code in <code>Try.java</code>, open to the left, and modify it to catch and handle the following exceptions by printing the given error messages:</p>
<ul>
<li>NumberFormatException - print &ldquo;Error: Input Does Not Match Expected Format!&rdquo;</li>
<li>NoSuchElementException - print &ldquo;Error: Too Few Inputs Provided!&rdquo;</li>
<li>ArithmeticException - print &ldquo;Error: Divide by Zero!&rdquo;</li>
</ul>
<p>Any other exceptions can be ignored. Don&rsquo;t forget to add import statements at the top of the file for each type of exception we need to catch!</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Try-Catch</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="throw-and-throws">Throw and Throws</h1>

<p><a href="https://www.youtube.com/watch?v=xJSxraNRqhk">YouTube Video</a></p>
<p><a href="https://ksu-cs-textbooks.github.io/cc210/10-exceptions/06-java/04-throws/video/">Video Materials</a>
</p>
<p>Beyond catching exceptions, there are a few other important concepts to learn related to exceptions. Let&rsquo;s go over a couple of them.</p>
<h2 id="throws">Throws</h2>
<p>When the Java compiler finds a checked exception, we must either surround that code in a <strong>Try-Catch</strong> statement, or we must declare the exception to be thrown by adding <code>throws</code> to our method declaration, followed by the exception type.</p>
<p>Here&rsquo;s an example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.File<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Throw</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    Scanner reader<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;input.txt&#34;</span><span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>reader<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>x<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>The code above handles user inputs. However, it does not includes the <code>throws</code> keyword. So, when we try to compile this code, we&rsquo;ll get the following error message.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>8j-except/Throw.java:11: error: unreported exception FileNotFoundException; must be caught or declared to be thrown
</span></span><span style="display:flex;"><span>      reader = new Scanner(new File(args[0]));
</span></span><span style="display:flex;"><span>               ^
</span></span><span style="display:flex;"><span>1 error</span></span></code></pre></div><p>To allow this code to compile, we must simply add <code>throws FileNotFoundException</code> to the end of our method declaration to tell the compiler that we aren&rsquo;t going to handle that exception in our code. We&rsquo;ll also have to add <code>import java.io.FileNotFoundException</code> to the top of the file. Notice that we aren&rsquo;t using <code>throws Exception</code> this time, since we now know more about how exceptions work. As we&rsquo;ll discuss later in this chapter, it is always better to include a specific exception instead of a generic one whenever possible.</p>
<p>Of course, we may also want to use a <strong>Try-Catch</strong> statement to handle this error directly in our code. We&rsquo;ll discuss those tradeoffs later as well.</p>
<h2 id="throw">Throw</h2>
<p>We can also generate our own exceptions using the <code>throw</code> keyword. This allows us to create new exceptions whenever needed. Let&rsquo;s look at an example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.File<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.lang.ArithmeticException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.FileNotFoundException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Throw</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> FileNotFoundException<span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    Scanner reader<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;input.txt&#34;</span><span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> x <span style="color:#f92672">=</span> Double<span style="color:#f92672">.</span><span style="color:#a6e22e">parseDouble</span><span style="color:#f92672">(</span>reader<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> y <span style="color:#f92672">=</span> Double<span style="color:#f92672">.</span><span style="color:#a6e22e">parseDouble</span><span style="color:#f92672">(</span>reader<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>y <span style="color:#f92672">==</span> 0<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> ArithmeticException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Divide by Zero!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">else</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>x <span style="color:#f92672">/</span> y<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>In this code, we are asking the user to input two floating point numbers. Then, we will output the first number divided by the second. However, we want to avoid the situation where the second number, the divisor, is $0$. Since Java doesn&rsquo;t generate an ArithmeticException when dividing by $0$ using floating point numbers, we can do that ourselves using an <strong>If-Then</strong> statement and the <code>throw</code> keyword.</p>
<p>Following the <code>throw</code> keyword, we must create a new Exception. In this case, we are creating a new ArithmeticException, but any of the exception types we&rsquo;ve learned about so far will work the same way. Inside of the parentheses, we can provide a helpful error message to go along with this exception.</p>
<h2 id="try-it">Try It!</h2>
<p>Let&rsquo;s see if we can use these keywords in another example. We&rsquo;ll start with this code:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.File<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Throw</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    Scanner reader<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;input.txt&#34;</span><span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>   
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// *** ADD CODE HERE ***
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>Place this code in <code>Throw.java</code> and modify it to do the following:</p>
<ol>
<li>If the <code>input.txt</code> file does not exist, it should throw a <code>FileNotFoundException</code>. We&rsquo;ll need to add the <code>throws</code> keyword and additional information in the correct place.</li>
<li>It should read a single string of input from the user. To make this simple, don&rsquo;t forget to use the <code>trim()</code> method to remove any extra whitespace!</li>
<li>If the string does not begin with a capital letter, it should throw a new <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" target="_blank">IllegalArgumentException</a>
 that contains the error message &ldquo;Proper Capitalization Required!&rdquo;</li>
<li>Of course, if the string is empty, it should throw a <code>StringIndexOutOfBoundsException</code> when it tries to access the first character of the string.</li>
<li>Otherwise, it should print the string to the terminal.</li>
</ol>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Throw and Throws</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="finally">Finally</h1>

<p><a href="https://www.youtube.com/watch?v=gW3Ntj0TqQc">YouTube Video</a></p>
<p><a href="https://ksu-cs-textbooks.github.io/cc210/10-exceptions/06-java/05-finally/video/">Video Materials</a>
</p>
<p>When dealing with exceptions in our code, sometimes we have an operation that must be executed, even if the earlier code throws an exception. In that case, we can use the <code>finally</code> keyword to make sure that the correct code is executed.</p>
<h2 id="finally">Finally</h2>
<p>To understand how the <code>finally</code> keyword works, let&rsquo;s take a look at an example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.lang.NumberFormatException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.lang.IllegalArgumentException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Finally</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    Scanner reader<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">in</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>reader<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>x <span style="color:#f92672">&lt;</span> 0<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> IllegalArgumentException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Input must be greater than 0!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>NumberFormatException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: Must input an integer!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>IllegalArgumentException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">getMessage</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">finally</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Finally Block&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;After Try&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>This program will read an integer from the terminal. If the integer is greater than or equal to 0, it will do nothing except print the &ldquo;Finally Block&rdquo; and  &ldquo;After Try&rdquo; messages. However, if the input is less than 0, it will throw an IllegalArgumentException. Finally, if the input is not a number, then an InputMismatchException will be thrown and handled. In each of those cases, it will also print the &ldquo;Finally Block&rdquo; message.</p>
<p>Let&rsquo;s run this program a few times and see how it works. First, we&rsquo;ll provide the input &ldquo;5&rdquo;:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span><span style="color:#e6db74">$</span> java Finally
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>Finally Block
</span></span><span style="display:flex;"><span>After Try</span></span></code></pre></div><p>Here, we can see that the code in the <code>finally</code> block always runs when the program is finished executing the statements in the <code>try</code> block.</p>
<p>Let&rsquo;s run it again, this time with &ldquo;-5&rdquo; as the input:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span><span style="color:#e6db74">$</span> java Finally
</span></span><span style="display:flex;"><span><span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>Input must be greater than <span style="color:#ae81ff">0</span><span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Finally Block
</span></span><span style="display:flex;"><span>After Try</span></span></code></pre></div><p>Here, we can see that it prints the error message caused by the IllegalArgumentException, then proceeds to the <code>finally</code> block. So, even if an exception is thrown while inside of the <code>try</code> block, the code in the <code>finally</code> block is <strong>always</strong> executed once the <code>try</code> block and any exception handlers are finished.</p>
<p>Here&rsquo;s one more example, this time with &ldquo;abc&rdquo; as the input:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span><span style="color:#e6db74">$</span> java Finally
</span></span><span style="display:flex;"><span>abc
</span></span><span style="display:flex;"><span>Error: Must input an integer<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Finally Block
</span></span><span style="display:flex;"><span>After Try</span></span></code></pre></div><p>Once again, we see that the code first handles the NumberFormatException, and then it will execute the code in the <code>finally</code> block.</p>
<p>In a later chapter, we&rsquo;ll learn more about how to use the <code>finally</code> block to perform important tasks such as closing open files and making sure we don&rsquo;t leave the system in an unstable state when we handle an exception.</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Finally</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="try-with-resources">Try with Resources</h1>

<p><a href="https://www.youtube.com/watch?v=86RzF9SgSJE">YouTube Video</a></p>
<p><a href="https://ksu-cs-textbooks.github.io/cc210/10-exceptions/06-java/06-resources/video/">Video Materials</a>
</p>
<p>Lastly, Java includes a special type of <strong>Try-Catch</strong> statement, known as a <strong>Try with Resources</strong> statement, that can perform some of the work typically handled by the <code>finally</code> block.</p>
<h2 id="try-with-resources">Try with Resources</h2>
<p>Let&rsquo;s look at an example of a <strong>Try with Resources</strong> statement:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.File<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.lang.NumberFormatException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.FileNotFoundException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Resources</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>      Scanner reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;input.txt&#34;</span><span style="color:#f92672">))</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>reader<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">trim</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>x <span style="color:#f92672">+</span> 5<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>NumberFormatException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: Invalid Number Format!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>FileNotFoundException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: File Not Found!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>In this example, there is a new statement after the <code>try</code> keyword, surrounded by parentheses. Inside of that statement, we are declaring and initializing a new Scanner object to read data from a file. That Scanner object is the <em>resource</em> that we are using in our <strong>Try with Resources</strong> statement. We can add multiple resources to that section, separated by semicolons <code>;</code>.</p>
<p>When the code in the <code>try</code> statement throws an exception, Java will automatically try to close the resources declared in the <strong>Try with Resources</strong> statement. So, when we are reading input from a file, it would close that file and make sure that it isn&rsquo;t damaged or left open when our program crashes.</p>
<p>In addition, any additional exceptions thrown when trying to close the file are <em>suppressed</em> by the system, so we only see the exception that caused the initial error. This is much better than using a <code>finally</code> statement to close the file, since we&rsquo;d have to run the risk of throwing a second exception inside of the <code>finally</code> statement.</p>
<p>Any Java class that implements the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" target="_blank">AutoCloseable</a>
 interface can be used as a resource in this way. The Java 8 API documentation for <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" target="_blank">AutoCloseable</a>
 lists all known classes that implement that interface. We&rsquo;ll discuss interfaces more later in this course.</p>
<p>Specifically, this type of statement is great when writing programs that will handle large amounts of input, either by connecting to a database, reading from a file, or using the Internet to communicate with a server. A <strong>Try with Resources</strong> statement is a great way to make sure those programs are able to handle exceptions without leaving the system in an unstable state.</p>

  
  
<div class="box notices cstyle warning">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-triangle"></i> Never Use with System Resources</div>
  <div class="box-content">

<p>Try-with resources should never be used in concert with Scanners Readers or Buffers connected to System resources.  For example</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// attach scanner to System stdin
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Scanner reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">in</span><span style="color:#f92672">);</span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// use as part of try with resources
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">try</span> <span style="color:#f92672">(</span>Scanner scan <span style="color:#f92672">=</span> reader<span style="color:#f92672">){...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">){</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// now System.in is closed and unavailable to rest of program
</span></span></span></code></pre></div><p>is a bad construct.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Try with Resources</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="best-practices">Best Practices</h1>

<p>Now that we&rsquo;ve seen lots of information about how to throw, catch, and handle exceptions in Java, it is a great time to discuss some of the best practices we can apply in our code to make it as readable and bulletproof as possible. While these aren&rsquo;t strict rules that must be followed all the time, they are great things to keep in mind as we write code that deals with exceptions.</p>
<h2 id="leave-no-exception-unhandled">Leave No Exception Unhandled</h2>
<p>As much as possible, we should write our code to handle any exception we can reasonably expect our users to run into when using our programs. We cannot assume that users will always provide the correct input in the correct format, and a single typo by a user should not cause our entire program to crash.</p>
<p>Instead, we should always use <strong>Try-Catch</strong> statements whenever possible to detect and handle those errors as simply as possible. In addition, if the program is interactive, we can combine that approach with the use of loops to prompt the user to provide new input to resolve the error.</p>
<p>The <a href="https://docs.oracle.com/javase/8/docs/api/" target="_blank">Java 8 API</a>
 is a great resource to determine which exceptions could be thrown by any methods used in our code.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Don&rsquo;t Substitute Unchecked Exception Handling for Value Checking</div>
  <div class="box-content">

<p>You can go &ldquo;try catch&rdquo; crazy.  Exception handling is powerful, but also really, really slow.</p>
<p>For example, this statement using exceptions is very slow:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    ratio <span style="color:#f92672">=</span> x <span style="color:#f92672">/</span> y<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span> ArithmeticException e<span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Cannot divide by zero&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>but this version of the statement using a simple conditional statement:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>y <span style="color:#f92672">!=</span>0<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    ratio <span style="color:#f92672">=</span> x <span style="color:#f92672">/</span> y<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span><span style="color:#66d9ef">else</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Cannot divide by zero&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>executes a lot more efficiently.  In this example the if statement is about 60 times faster than the try-catch statement.</p>
<p>In fact, most unchecked exceptions can be avoided through value checking.  In this course, we may direct you to throw and catch exceptions of this type for practice in exception coding.</p>
</div>
</div>
<h2 id="dont-use-try-catch-blocks-for-control-flow">Don&rsquo;t use Try-Catch blocks for Control Flow</h2>
<p>It is BAD practice to have implied control flow embedded and disguised as <code>try catch</code>.  For example, if  we are to accept input from either a file given as a command line argument or the keyboard.  This first code block is acceptable:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Scanner reader<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> args<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">()</span> <span style="color:#f92672">==</span> 1<span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>     reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span>args<span style="color:#f92672">[</span>0<span style="color:#f92672">]));</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">catch</span> Exception e<span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;error accessing file&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">in</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span></span></span></code></pre></div><p>This next code block is bad style:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>   <span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      scanner <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span>args<span style="color:#f92672">[</span>0<span style="color:#f92672">]));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>FileNotFoundException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;FileNotFoundException: &#34;</span> <span style="color:#f92672">+</span> e<span style="color:#f92672">.</span><span style="color:#a6e22e">getMessage</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>      scanner <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">in</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span></span></span></code></pre></div><p>Most readers of your code will not expect &ldquo;flow logic&rdquo; to be in the catch blocks and may miss it.</p>
<h2 id="be-specific">Be Specific</h2>
<p>We should also always strive to use specific exceptions in our <code>catch</code> statements whenever we can. So, if we are opening a file, we should include a <code>catch</code> statement for a FileNotFoundException, and not just a single generic <code>Exception</code>. Even though this means we may have to include several <code>catch</code> statements, it is much better in the long run because it allows us to know exactly what happened when our code has a problem.</p>
<p>In addition, we should always make sure we catch the most specific exceptions first, before any more generic exceptions. As we saw earlier, if we try to catch an IOException before a FileNotFoundException, we won&rsquo;t be able to tell when we&rsquo;ve reached a FileNotFoundException at all, since it is a subtype of the IOException.</p>
<h2 id="use-messages-and-stack-traces">Use Messages and Stack Traces</h2>
<p>The Java Exception class includes some very helpful methods we can use to get additional information when we encounter an exception.</p>
<p>Here&rsquo;s an example to show what we can learn:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.lang.ArithmeticException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StackTrace</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> 5 <span style="color:#f92672">/</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>ArithmeticException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: &#34;</span> <span style="color:#f92672">+</span> e<span style="color:#f92672">.</span><span style="color:#a6e22e">getMessage</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>      e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>When this code is executed, it will produce the following output:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span><span style="color:#e6db74">$</span> java StackTrace
</span></span><span style="display:flex;"><span>Error: <span style="color:#f92672">/</span> by zero
</span></span><span style="display:flex;"><span>java.lang.ArithmeticException: <span style="color:#f92672">/</span> by zero
</span></span><span style="display:flex;"><span>        at StackTrace.main<span style="color:#f92672">(</span>Finally.java:<span style="color:#ae81ff">6</span><span style="color:#f92672">)</span></span></span></code></pre></div><p>The first line will use <code>e.getMessage()</code> to get the short version of the error, in this case the text &ldquo;/ by zero&rdquo;. The second line uses <code>e.printStackTrace()</code> to print a full stack trace showing the location of the error in code.</p>
<p>In general, it is best to only show the short error message to users, but in some cases it may be better to add our own message. The text &ldquo;/ by zero&rdquo; isn&rsquo;t very clear, even to developers. Instead, we could say &ldquo;Error: divisor cannot be zero&rdquo; to make the error message clearer.</p>
<p>The information contained in the stack trace is very helpful to developers when trying to debug and fix problems in the code, but that information is very confusing to users. As we learn how to build more advanced programs, we&rsquo;ll see how to record and log those error messages and stack traces for debugging, but hide them from our users.</p>
<p>To see what other methods are available, refer to the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html" target="_blank">Throwable</a>
 entry in the Java 8 API reference.</p>
<h2 id="dont-ignore-exceptions">Don&rsquo;t Ignore Exceptions</h2>
<p>Another big problem is that many developers tend to catch exceptions, only to ignore them so their program doesn&rsquo;t crash. Here&rsquo;s a quick example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>Scanner reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">in</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  x <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>reader<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>Exception e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//do nothing
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">}</span></span></span></code></pre></div><p>In this code, if the user inputs something that can&rsquo;t be converted to an integer, the code just silently ignores the exception and proceeds with <code>x</code> still storing the value $0$. While that may not cause issues, it can also make it very frustrating to debug later issues or changes in this program. So, it is always best to output an error message when an exception occurs, even if it can be easily ignored without additional input from the user. This will make it easier to debug additional issues later on in development.</p>
<h2 id="bulletproof-code">Bulletproof Code</h2>
<p>Here&rsquo;s a simple program that asks the user for input, and will repeat the question until a valid input is received. This code is designed to handle many common situations and exceptions:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.lang.NumberFormatException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.NoSuchElementException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HandleInput</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>      Scanner reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">in</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">while</span><span style="color:#f92672">(</span>x <span style="color:#f92672">&lt;=</span> 0<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>          System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Please input a positive integer: &#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>          x <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>reader<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>x <span style="color:#f92672">&lt;=</span> 0<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: Negative Integer Detected!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>NumberFormatException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>          System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: Integer Not Found!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>          reader<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">();</span> <span style="color:#75715e">// bypass bad input and try again
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>NoSuchElementException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>          System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: No Input Found!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>Exception e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>          System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: Unknown Input Error!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span> <span style="color:#75715e">//probably can&#39;t recover, so stop executing
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;You entered &#34;</span> <span style="color:#f92672">+</span> x<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>Exception e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: Unable to Open Scanner!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>There are several items in this code that help make it very bulletproof:</p>
<ol>
<li>First, when the program opens a Scanner object, it uses a <strong>Try With Resources</strong> statement to make sure that it will be properly closed when we are done with it. As we&rsquo;ve discussed, this is a good practice when handling input via files, but really any input object can be handled in this way.</li>
<li>The <strong>Try With Resources</strong> statement has a single <code>catch</code> block to handle any exceptions that arise from opening the Scanner. This prevents those exceptions from being thrown to the user. If we are opening a file, we&rsquo;ll also need to handle the FileNotFoundException here.</li>
<li>Inside of the <strong>While</strong> loop, there is a second <strong>Try-Catch</strong> statement to handle errors that come from reading an individual input, such as an NumberFormatException or a NoSuchElementException.</li>
<li>If an NumberFormatException is caught, we&rsquo;ll need to use <code>next()</code> to successfully read the next token from input before we continue, or else it will try to read the same thing again.</li>
<li>In addition, that inner <strong>Try-Catch</strong> statement will also catch any generic Exceptions that might occur when reading input. In that case, we use the <code>return</code> keyword to stop executing the program, since it may be difficult to continue to read input in that case. Thankfully, since we are using a <strong>Try With Resources</strong> block, the Scanner object will be correctly closed for us automatically. In addition, any <code>finally</code> blocks would be executed before the program stops.</li>
</ol>

  
  
<div class="box notices cstyle warning">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-triangle"></i> Don&rsquo;t Exit Early!</div>
  <div class="box-content">

<p>We should not use <code>System.exit()</code> to exit our program, which you may find on many online resources. The <code>System.exit()</code> method directly ends the Java Virtual Machine, or JVM, without properly closing any resources or executing <code>finally</code> blocks. It can also make your code much more difficult to maintain and test. This can be very dangerous!</p>
</div>
</div>
<p>Of course, there are many things that can be done differently in this code, depending on our preferences and how we&rsquo;d like our program to function. This is just one possible way to build useful code that handles several exceptions.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="a-worked-example">A Worked Example</h1>

<!-- 
<a href="https://www.youtube.com/watch?v=j-glHqHHWBQ">YouTube Video</a>
 -->
<!-- [Video Materials](/10-exceptions/06-java/08-example/video/) -->
<!-- TODO Update Video -->
<p>Let&rsquo;s work through an entire example program together to see how we can build programs that handle exceptions quickly and easily, without allowing the program to crash when invalid input is received.</p>
<h2 id="problem-statement">Problem Statement</h2>
<p>Consider the following problem statement for a driver-class program <code>Example.java</code>:</p>
<blockquote>
<p>Write a program to accept a list of numbers, one per line from the terminal.</p>
</blockquote>
<blockquote>
<p>The numbers can either be positive whole numbers or positive floating point numbers. The program should continue to accept input until a negative number is received. Zero is an acceptable input.</p>
</blockquote>
<blockquote>
<p>Once a negative number is received, the program should print the largest and smallest number provided as input (not including the the negative number end input). Sample outputs are shown below.</p>
</blockquote>
<blockquote>
<p>The program should catch and handle all common exceptions. When an exception is caught, the program should print the name of the exception. It should then continue to accept input (if possible) or exit the program (if not possible).</p>
</blockquote>
<h2 id="sample-inputs--outputs">Sample Inputs &amp; Outputs</h2>
<p>Here&rsquo;s an example of an expected input for the program:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>5.0
</span></span><span style="display:flex;"><span>3
</span></span><span style="display:flex;"><span>8.5
</span></span><span style="display:flex;"><span>7
</span></span><span style="display:flex;"><span>k
</span></span><span style="display:flex;"><span>2.3.6
</span></span><span style="display:flex;"><span>-1</span></span></code></pre></div><p>Here is the correct output for that input:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>NumberFormatException
</span></span><span style="display:flex;"><span>NumberFormatException
</span></span><span style="display:flex;"><span>Maximum: 8.5
</span></span><span style="display:flex;"><span>Minimum: 3.0</span></span></code></pre></div><p>Pause a moment to think about control flow, loops and exceptions you might need to handle.</p>
<p>When first starting out in coding and exception handling, it is often best to first write the code <strong>without</strong> exception handling, test it, then add the exception stuff.  Exception handlers can hide logic errors.</p>
<h3 id="the-code-without-exception-handling">The code without exception handling</h3>
<p>We&rsquo;ll start out with the code to &ldquo;attach&rdquo; a Scanner to the correct input source.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Example</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        Scanner scanner <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">in</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>Next let&rsquo;s use a do-while loop to handle input until there is a negative number.  We will treat all inputs as doubles.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">double</span> input<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    input <span style="color:#f92672">=</span> Double<span style="color:#f92672">.</span><span style="color:#a6e22e">parseDouble</span><span style="color:#f92672">(</span>scanner<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">trim</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span><span style="color:#66d9ef">while</span><span style="color:#f92672">(</span>input <span style="color:#f92672">&gt;=</span> 0<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">);</span></span></span></code></pre></div><p>If the input is negative, we do nothing.  Otherwise we keep  track of the minimum and maximum number seen.  Note, that the first number input is both the min and max number seen.  We&rsquo;ll handle this by observing that an acceptable entered number cannot be less than zero so initial values for the min and max can bet set to <code>-1.0</code> as a sentinel value.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">double</span> max <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>1<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> min <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>1<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> input<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">boolean</span> first <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    input <span style="color:#f92672">=</span> Double<span style="color:#f92672">.</span><span style="color:#a6e22e">parseDouble</span><span style="color:#f92672">(</span>scanner<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">trim</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>input <span style="color:#f92672">&gt;=</span> 0<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span> <span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>min <span style="color:#f92672">&gt;</span> input <span style="color:#f92672">||</span> min <span style="color:#f92672">&lt;</span> 0<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">&gt;){</span>
</span></span><span style="display:flex;"><span>          min <span style="color:#f92672">=</span> input<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>max <span style="color:#f92672">&lt;</span> input <span style="color:#f92672">||</span> max <span style="color:#f92672">&lt;</span> 0<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>          max <span style="color:#f92672">=</span> input<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span> <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>input <span style="color:#f92672">&gt;=</span> 0<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">);</span></span></span></code></pre></div><p>Lastly we would print the min an max out.</p>
<p>We leave it for you to finish the &ldquo;without exception handling&rdquo; program and test if from the terminal.</p>
<h3 id="adding-exception-handling">Adding Exception handling</h3>
<p>Although rare, a Scanner-object connected to System.in can throw a NoSuchElementException when <code>readline()</code> is called.  This can occur when:</p>
<ul>
<li>the program has inadvertently closed <code>System.in</code> (more in Files Module)</li>
<li>a redirected stream lacks the proper number and/or types of inputs (see below)</li>
</ul>

  
  
<div class="box notices cstyle note">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> Directing a File to Stdin</div>
  <div class="box-content">

<p>In Linux, the <code>&lt;</code> operator can be used at the terminal to send the contents of a file in place of <code>stdin</code>.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span><span style="color:#e6db74">$</span>     cmd        &lt; filename  # general form
</span></span><span style="display:flex;"><span><span style="color:#e6db74">$</span> java  program  &lt; inputfile # Java form</span></span></code></pre></div><p>You can see this &ldquo;trick&rdquo; if you have <code>Example.java</code> working.  The command <code>java Example &lt; ex1_in.txt</code> should produce min:1.0, max:3.0 as the file contains four lines (1,2,3,-1).</p>
<p>However the file nse_in.txt contains only positive numbers.  The command <code>java Example &lt; nse_in.txt</code> should produce a NoSuchElement Exception.  After reading the last positive number from redirected file, the program tries to read again but the input is exhausted.</p>
</div>
</div>
<p>Let&rsquo;s catch the NoSuchElementException,</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">do</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      input <span style="color:#f92672">=</span> Double<span style="color:#f92672">.</span><span style="color:#a6e22e">parseDouble</span><span style="color:#f92672">(</span>scanner<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">trim</span><span style="color:#f92672">());</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>NoSuchElementException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;NoSuchElementException&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>  <span style="color:#75715e">//exits the program
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#f92672">}</span></span></span></code></pre></div><p>Here we catch the Exception and exit the program. Remember to catch a specific Exception you must import it.</p>
<p>The other thing that can go awry is the parsing. Reading a String that would not parse into a Double, which will throw a <code>NumberFormatException</code>.  However, from the example inputs it is clear that we should not exit on this condition but instead keep accepting input. <code>continue</code> will reset us to the next loop.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>NumberFormatException e <span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;NumberFormatException&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">continue</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><h2 id="testing">Testing</h2>
<p>Finally, we may want to do some quick testing of our program. In theory, it should handle any inputs provided. When testing, we should always see if we can find some input that breaks our program, then adjust the program as needed to prevent that problem. Of course, we should always make sure that it produces the correct answers, too.</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of A Worked Example</h1>
    
    
          </section>
          </section>
    
    
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>Learning how to write programs that properly catch and handle exceptions is a part of becoming a good programmer. If we can build programs that can handle many common errors, our programs will be much easier to use and wont crash nearly as often.</p>
<p>In this chapter, we learned about the methods for dealing with exceptions in our programs. In addition, we saw several examples of common exceptions that we may encounter. Of course, we can always refer to the online documentation for our programming language to learn even more about exceptions and how to handle them.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>

        </div>
      </main>
    
<div class="git-footer">
<p class="theme-version-footer">5.18.0</p>
<p>Last modified by: 
            <i class='fas fa-user'></i> Russell Feldhausen
            <i class='fas fa-calendar'></i> <a href="https://gitlab.cs.ksu.edu/cc/210/generic/textbook/-/commit/063dfde2152a295ed6dbac3b66d864d5a5d4d566">Aug 11, 2023</a>
</p>
</div>

    
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/clipboard.min.js?1698267048" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/perfect-scrollbar.min.js?1698267048" defer></script>
    <script>
      function useMathJax( config ){
        if( !Object.assign ){
          
          return;
        }
        window.MathJax = Object.assign( window.MathJax || {}, {
          loader: {
            load: ['[tex]/mhchem']
          },
          startup: {
            elements: [
              '.math'
            ]
          },
          tex: {
            inlineMath: [
              ['$', '$'], 
              ['\\(', '\\)']
            ]
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://ksu-cs-textbooks.github.io/cc210/js/mathjax/tex-mml-chtml.js?1698267048"></script>
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/theme.js?1698267048" defer></script>
  </body>
</html>
