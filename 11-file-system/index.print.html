




	
	
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="CC 210 Textbook">
    <meta name="author" content="Russell Feldhausen">
    <title>File System :: CC 210 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/index.html" rel="canonical" type="text/html" title="File System :: CC 210 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/index.xml" rel="alternate" type="application/rss+xml" title="File System :: CC 210 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/tele.html" rel="alternate" type="text/html" title="File System :: CC 210 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/embed.html" rel="alternate" type="text/html" title="File System :: CC 210 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/fontawesome-all.min.css?1694721066" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc210/css/fontawesome-all.min.css?1694721066" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/nucleus.css?1694721066" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/auto-complete.css?1694721066" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc210/css/auto-complete.css?1694721066" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/perfect-scrollbar.min.css?1694721066" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/fonts.css?1694721066" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc210/css/fonts.css?1694721066" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/theme.css?1694721066" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/theme-auto.css?1694721066" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/variant.css?1694721066" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/print.css?1694721066" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/format-print.css?1694721066" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/ie.css?1694721066" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/url.js?1694721066"></script>
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/variant.js?1694721066"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cc210/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cc210/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cc210/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/custom.css?1694721066" rel="stylesheet">

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cc210/11-file-system/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-tele-link">
            <a class="print-link" title='Teleprompter View' href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/tele.html">
              <i class="fas fa-tv fa-fw"></i>
            </a>
          </div>
          <div id="top-embed-link">
            <a class="print-link" title='Embeddable Version' href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/embed.html">
              <i class="fas fa-expand-arrows-alt fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cc210/index.html"><span itemprop="name">CC 210 Textbook</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">File System</span><meta itemprop="position" content="2"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable chapter narrow" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 11</div>
<h1 id="file-system">File System</h1>

<p>Accessing Files and Folders from our Programs!</p>
<!-- TODO Update Java Tutorial to match Python? -->
<!-- TODO Fix Tutorial File Handling - untar from source each time? -->
            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of File System</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="file-everything-away">File Everything Away</h1>

<p>Modern computer systems contain advanced <em>file systems</em> that allow us to store and retrieve vast amounts of data at ease. We&rsquo;ve come a long way from the tape-drives and gigantic storage devices of years past. Now even the smallest computers can store tens if not hundreds of gigabytes of data on devices smaller than a fingernail.</p>
<p>
<a href="#image-471cd7ad88e031b9f19458835a8e5280" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/hdd_wiki.jpg" alt="Hard Disk Drive" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-471cd7ad88e031b9f19458835a8e5280">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/hdd_wiki.jpg" alt="Hard Disk Drive" class="lightbox-image" loading="lazy">
</a><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p>Computers store data internally on physical devices such as the hard disk drive shown above, as well as solid state drives such as flash drives and SD cards that we&rsquo;re familiar with today. That information is typically stored in the form of <em>files</em>, which are organized into <em>directories</em> or <em>folders</em> to make it easier to find what we are looking for.</p>
<p>In this chapter, we&rsquo;ll dive into all of the methods we can use to create, read, and manipulate these files and directories in our programs.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>File:Laptop-hard-drive-exposed.jpg. (2018, June 24). Wikimedia Commons, the free media repository. Retrieved 19:40, April 18, 2019 from <a href="https://commons.wikimedia.org/w/index.php?title=File:Laptop-hard-drive-exposed.jpg&amp;oldid=307857280" target="_blank">https://commons.wikimedia.org/w/index.php?title=File:Laptop-hard-drive-exposed.jpg&oldid=307857280</a>
.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="file-system-basics">File System Basics</h1>

<p><a href="https://www.youtube.com/watch?v=0oHKtm7jMuo">YouTube Video</a></p>
<p><a href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/02-basics/video/">Video Materials</a>
</p>
<p>Before we start learning how to manipulate files and directories, we should cover some basic concepts related to how computers today deal with data.</p>
<p>
<a href="#image-8e99e10c294d4b45439860cf77075a8d" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/dirtree_oracle.gif" alt="File System Tree" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-8e99e10c294d4b45439860cf77075a8d">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/dirtree_oracle.gif" alt="File System Tree" class="lightbox-image" loading="lazy">
</a><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Trees &amp; Nodes</div>
  <div class="box-content">

<p>In this chapter, we&rsquo;ll use a few terms that may be unfamiliar. So, let&rsquo;s review those now:</p>
<ul>
<li><strong>node</strong>: A <em>node</em> is a single element in a data structure. It is usually represented by a circle or box, and may be connected to other nodes in the data structure using lines.</li>
<li><strong>root</strong>: The single <em>node</em> at the top of a <em>tree</em>.</li>
<li><strong>tree</strong>: A <em>tree</em> is a hierarchical data structure used in computing. A tree typically consists of a single node at the top, and then one or more nodes connected to each node, usually shown in successive layers of depth. When displayed, they typically look like an upside-down tree, with the trunk at the top and branches growing downwards.  The reason trees are drawn upside down, with the root at the top, has been lost to antiquity.</li>
</ul>
<p>So, in the diagram above, the entire diagram shows a <em>tree</em> data structure, with each box representing a <em>node</em> of the data structure.</p>
</div>
</div>
<h2 id="file-system">File System</h2>
<p>The <em>file system</em> on a modern computer can be thought of as the topmost node in a tree that represents all of the data stored on a storage device. Each hard drive, flash drive, or other storage device on a computer contains at least one <em>partition</em>, and inside of that partition is a <em>file system</em> that stores files. Of course, storage devices may contain many different partitions, each with a different file system, but that is becoming less common since storage is much cheaper than it used to be.</p>
<p>In the diagram at the top of this page, the topmost box represents the file system&rsquo;s root node.</p>
<p>On a Windows system, the root node of each file system is represented by a drive letter. Typically the main file system uses the <code>C:\</code> drive letter.</p>
<p>On OS X and Linux-based systems, the file system begins with a root node that has the path <code>/</code>. Under that root node, additional file systems can be mounted on a unique path, usually in a special directory such as <code>/mnt</code> or <code>/media</code>. We&rsquo;ll take a closer look at the Linux file system on the next page.</p>
<h2 id="directory">Directory</h2>
<p>Within a file system, data is typically separated into a hierarchical structure using <em>directories</em> or <em>folders</em>. Just like we would use folders in a file cabinet to group similar papers together, we can do the same with directories on our file systems.</p>
<p>In the diagram at the top of this page, the boxes for &ldquo;home&rdquo;, &ldquo;user2&rdquo;, and &ldquo;foo&rdquo;, among others, all represent directories that can store data within them.</p>
<p>Each directory is represented by a <em>path</em>, such as <code>C:\Users\user\Documents</code> on Windows or <code>/home/user/documents</code> on Linux.</p>
<h2 id="file">File</h2>
<p>Each individual piece of data stored on a file system is represented by a <em>file</em>. Those files can store many different types of data, from simple text and graphics to entire programs and videos.</p>
<p>As with directories, each file is also represented by a <em>path</em>, such as <code>C:\Users\user\Documents\file.txt</code> on Windows or <code>/home/user/documents/file.txt</code> on Linux.</p>
<h2 id="file-extensions">File Extensions</h2>
<p>Most file names include an optional extension at the end. The extension comes after the last period <code>.</code> character in the filename, and consists of a few characters giving information about the type of data in the file. Some common file extensions include <code>.txt</code>, <code>.docx</code>, <code>.pdf</code>, and <code>.mp3</code>.</p>
<p>Most Windows computers automatically hide these extensions from view, since Windows actually uses those extensions to determine the type of data that is stored in the file. Linux, on the other hand, uses a different system that involves looking inside the file itself, so the extension is not necessary (but helpful).</p>
<h2 id="symbolic-link">Symbolic Link</h2>
<p>Most file systems support <em>symbolic links</em> or <em>symlinks</em>, sometimes incorrectly referred to as <em>shortcuts</em>. A symbolic link allows one file path to refer to another, so they both appear to contain the same information.</p>
<p>For example, we could create a symlink at <code>/home/users/documents</code> that points to the directory <code>/data/documents</code>. So, whenever a user opens the <code>/home/users/documents</code> directory, they will actually see the files stored in <code>/data/documents</code>. Any changes made to those files will be visible to users who view the files using either path.</p>
<p>We won&rsquo;t deal with symlinks in this chapter, but they are something to be aware of, as we may come across them when working with file systems in practice.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Image Credit: Oracle Java Tutorials: What is a Path? <a href="https://docs.oracle.com/javase/tutorial/essential/io/path.html" target="_blank">https://docs.oracle.com/javase/tutorial/essential/io/path.html</a>
&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of File System Basics</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="linux-file-system">Linux File System</h1>

<p>The Codio programming environment uses the Linux file system to store files and directories. So, let&rsquo;s take a minute and discuss some features specific to the Linux file system.</p>
<h2 id="layout">Layout</h2>
<p>
<a href="#image-ea266f0a181e64b82cba9960a52ea1d9" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/unix_wiki.svg" alt="Linux File System Layout" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-ea266f0a181e64b82cba9960a52ea1d9">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/unix_wiki.svg" alt="Linux File System Layout" class="lightbox-image" loading="lazy">
</a><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p>As we discussed earlier, the Linux file system begins with a single root node which has the path <code>/</code>. Below that root node, there are several directories which are typically present on each Linux system. The diagram above gives information about what could be found in each of those directories.</p>
<h2 id="home-directory">Home Directory</h2>
<p>On Linux, each user is assigned a <em>home directory</em> where they can store all of their files. Those directories are typically stored in the <code>/home</code> directory. So, a user with the username <code>codio</code> could find their files in the <code>/home/codio</code> directory.</p>
<p>The Codio programming environment does indeed use the <code>codio</code> username by default. So, all of our files can be found in the <code>/home/codio</code> directory.</p>
<h2 id="workspace">Workspace</h2>
<p>In addition, Codio specifically uses a particular subdirectory of the home directory, named <code>workspace</code>, to store all of the files used by the Codio development environment. So, any files we see in the file tree on the left side of the window are actually stored in the <code>/home/codio/workspace</code> directory. When we open a terminal window in Codio, that is the directory we will be taken to by default.</p>
<h2 id="hidden-files">Hidden Files</h2>
<p>On Linux, any file or directory name that begins with a period <code>.</code> is hidden from view by default. So, we must be careful not to accidentally add a period to the beginning of any file or directory name, or else we may not be able to see it. On the next page, we&rsquo;ll learn some handy terminal commands we can use to see those files.</p>
<h3 id="further-reading">Further Reading</h3>
<ul>
<li><a href="https://www.linux.com/blog/learn/intro-to-linux/2018/4/linux-filesystem-explained" target="_blank">The Linux Filesystem Explained</a>
 from Linux.com</li>
<li><a href="https://www.tldp.org/LDP/intro-linux/html/chap_03.html" target="_blank">About Files and the File System</a>
 from The Linux Documentation Project</li>
</ul>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>File:Standard-unix-filesystem-hierarchy.svg. (2016, November 27). Wikimedia Commons, the free media repository. Retrieved 20:45, April 18, 2019 from <a href="https://commons.wikimedia.org/w/index.php?title=File:Standard-unix-filesystem-hierarchy.svg&amp;oldid=221696273" target="_blank">https://commons.wikimedia.org/w/index.php?title=File:Standard-unix-filesystem-hierarchy.svg&oldid=221696273</a>
.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="file-system-commands">File System Commands</h1>

<p><a href="https://www.youtube.com/watch?v=Sx9Tr9_-nhs">YouTube Video</a></p>
<p><a href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/04-file-system-commands/video/">Video Materials</a>
</p>
<p>Lastly, let&rsquo;s take a look at some helpful commands we can use on the terminal to manipulate the file system in Linux. We can open the terminal in Codio by clicking the <strong>Tools</strong> menu at the top of the page, then selecting <strong>Terminal</strong>. It should already be open in the panel to the left for this example.</p>
<p>When we open the terminal, it should look something like the picture below. If we see that, we&rsquo;re ready to go.</p>
<p>
<a href="#image-0f693081d65f6573f1639b71c96ee572" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/terminal.png" alt="Linux Terminal Screenshot" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-0f693081d65f6573f1639b71c96ee572">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/terminal.png" alt="Linux Terminal Screenshot" class="lightbox-image" loading="lazy">
</a></p>
<h2 id="command-prompt">Command Prompt</h2>
<p>When we open a Linux terminal, we&rsquo;ll see quite a bit of helpful information before we even type in a single command. In the screenshot above, the terminal&rsquo;s <em>command prompt</em> is the line of text right before the cursor:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>codio@rainbow-almond:~/workspace<span style="color:#e6db74">$</span></span></span></code></pre></div><p>Let&rsquo;s look at what each part means:</p>
<ul>
<li><code>codio</code> - The first part, before the at symbol <code>@</code>, gives the currently logged-in user name. When using Codio, we&rsquo;ll almost always be logged-in using the <code>codio</code> username.</li>
<li><code>@rainbow-almond</code> - The next segment, between the at symbol <code>@</code> and the colon <code>:</code> is the <em>host name</em> of the system we are using. Codio assigns hostnames using two random words, in this case &ldquo;rainbow&rdquo; and &ldquo;almond&rdquo;. We won&rsquo;t really need this information right now, but it will become useful in future courses.</li>
<li><code>~/workspace</code> - Following the colon is the path of the <em>present working directory</em> or <em>pwd</em> for short. This is the directory we are currently in.</li>
<li><code>$</code> - The last character is a dollar sign <code>$</code>. It is used to signify that we are not on an <em>elevated</em> terminal, which would have administrator permissions. If we were on an elevated terminal, it would be a hash symbol <code>#</code> instead.</li>
</ul>
<p>As we can see, the command prompt gives quite a bit of important information at a glance!</p>
<h2 id="print-working-directory">Print Working Directory</h2>
<p>At any time, we can see our <em>working directory</em> one of two ways:</p>
<ol>
<li>It is always present in the command prompt on most Linux terminals as described above.</li>
<li>We can use the <code>pwd</code> command (short for &ldquo;Print Working Directory&rdquo;) on the terminal.</li>
</ol>
<p>Let&rsquo;s try the second option. On a terminal, we can type <code>pwd</code> and press enter. It should look something like this:</p>
<p>
<a href="#image-1b73c624c7a0c04d94205c2899d511f6" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/pwd.png" alt="Present Working Directory Screenshot" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-1b73c624c7a0c04d94205c2899d511f6">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/pwd.png" alt="Present Working Directory Screenshot" class="lightbox-image" loading="lazy">
</a></p>
<p>When we enter that command, the next line will show us our current working directory. However, notice that it printed <code>/home/codio/workspace</code> instead of the <code>~/workspace</code> that we see in the command prompt. This is because Linux uses several special characters in a <em>path</em> as shortcuts. So, let&rsquo;s cover that before we move on.</p>
<h2 id="special-path-characters">Special Path Characters</h2>
<p>As we discussed earlier, the Linux file system uses a hierarchical path to show the location of directories and folders. However, sometimes those paths can be very complex, and it is a pain to type them out in full each time we want to use them. So, there are a few special rules and characters that apply to Linux paths.</p>
<ol>
<li>If a path begins with a slash <code>/</code> character, the path is said to be an <em>absolute</em> path. That is because it starts at the root of the file system, and gives the name of each directory along the path. If it does not begin with a slash, then the path is a <em>relative</em> path, because it is relative to our present working directory and could have different meanings depending on which directory we are starting from.</li>
<li>If a path begins with a tilde and a slash <code>~/</code>, the path is relative to our <em>home directory</em>. So, the path <code>/home/codio/workspace</code> and <code>~/workspace</code> are the same, provided our current username is <code>codio</code>.</li>
<li>If a path begins with a period and a slash <code>./</code>, the path is relative to our <em>present working directory</em>. So, if our <em>pwd</em> is <code>/home/codio</code>, then the path <code>./workspace</code> is the same as <code>/home/codio/workspace</code>.</li>
<li>If a path begins with two periods and a slash <code>../</code>, the path is relative to the <em>parent directory</em> of our present working directory. So, if our <em>pwd</em> is <code>/home/codio/workspace</code>, the path <code>../</code> would be the same as <code>/home/codio</code>.</li>
</ol>
<p>There are a few other special characters that can be used, but these are the ones that we&rsquo;ll see most often.</p>

  
  
<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Chaining Paths</div>
  <div class="box-content">

<p>It is also possible to chain paths together using several of these special characters. For example, if our <em>pwd</em> is <code>/home/codio/workspace</code>, the path <code>../../</code> would be <code>/home</code>, and <code>../../../</code> would be just <code>/</code>.</p>
<p>Similarly, we can chain them together in ways that may seem nonsensical, such as <code>~/../../././home/codio/../codio/workspace</code>, which is the same path as <code>/home/codio/workspace</code>.</p>
<p>In general, we won&rsquo;t need to use these complex paths very often if at all. However, it is helpful to know that it can be done.</p>
</div>
</div>
<h2 id="listing-contents">Listing Contents</h2>
<p>Next, we can list the contents in a directory using the <code>ls</code> command. Let&rsquo;s go ahead and enter that next on our terminal:</p>
<p>
<a href="#image-22064cd76dcda285bd9ce41d6de68a37" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/ls.png" alt="ls Screenshot" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-22064cd76dcda285bd9ce41d6de68a37">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/ls.png" alt="ls Screenshot" class="lightbox-image" loading="lazy">
</a></p>
<p>Assuming we are still at the <code>/home/codio/workspace</code> directory, we should see output similar to the screenshot above. Of course, many files have been added to this book since that screenshot was made, so it may be different now. In that screenshot, we see some interesting things:</p>
<ol>
<li>Any entries that are blue represent <em>directories</em> that can be opened. They may contain additional files or directories, or they may be empty.</li>
<li>Entries in white are <em>files</em> that can be opened</li>
</ol>
<p>Since it is difficult for some people to see those colors, we can also use the <code>ls -l</code> command to show more information:</p>
<p>
<a href="#image-79c3a976f4ffa37512ab7a36b41b048c" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/lsl.png" alt="ls -l Screenshot" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-79c3a976f4ffa37512ab7a36b41b048c">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/lsl.png" alt="ls -l Screenshot" class="lightbox-image" loading="lazy">
</a></p>
<p>This gives us quite a bit more information about each directory or file. Here&rsquo;s a helpful diagram from DigitalOcean showing what each column contains:</p>
<p>
<a href="#image-f081c76f65e183484d15f1a9eba0c135" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/lsl_do.png" alt="ls -l Diagram from Digital Ocean" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-f081c76f65e183484d15f1a9eba0c135">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/lsl_do.png" alt="ls -l Diagram from Digital Ocean" class="lightbox-image" loading="lazy">
</a><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p>Another important aspect is the first character in the mode column, which gives the <em>type</em> of the entry:</p>
<ol>
<li>If that character is a <code>d</code>, the entry is a <em>directory</em></li>
<li>If that character is a dash <code>-</code>, the entry is a <em>file</em></li>
</ol>
<p>There are a few other characters that could appear there, but we won&rsquo;t discuss them now.</p>
<h2 id="changing-directories">Changing Directories</h2>
<p>Once we&rsquo;ve seen what a directory contains, we may want to open another directory and view its contents. To do that, we can use the <code>cd</code> command, followed by the <em>path</em> that we&rsquo;d like to visit. It could be an <em>absolute path</em> or a <em>relative path</em>. For example, let&rsquo;s assume we are in the <code>/home/codio/workspace</code> directory. From there, we&rsquo;d like to get to the directory <code>/home/codio/workspace/1j-hello</code>, which is contained in the present working directory. Each of the screenshots below gives an example of how we could accomplish that:</p>
<p>
<a href="#image-8323ee88a1df8c8305ce21544034c289" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/rel.png" alt="Relative Path Screenshot" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-8323ee88a1df8c8305ce21544034c289">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/rel.png" alt="Relative Path Screenshot" class="lightbox-image" loading="lazy">
</a>

<a href="#image-00555a061415ff09a1b6c5a3cfb92bbf" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/relhome.png" alt="Relative Home Path Screenshot" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-00555a061415ff09a1b6c5a3cfb92bbf">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/relhome.png" alt="Relative Home Path Screenshot" class="lightbox-image" loading="lazy">
</a>

<a href="#image-f2f71b26fd87f231513a15de790b46e7" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/dot.png" alt="Relative Dot Path Screenshot" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-f2f71b26fd87f231513a15de790b46e7">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/dot.png" alt="Relative Dot Path Screenshot" class="lightbox-image" loading="lazy">
</a>

<a href="#image-60ac905297d16d811acf6a770ca6648f" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/abs.png" alt="Absolute Path Screenshot" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-60ac905297d16d811acf6a770ca6648f">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/abs.png" alt="Absolute Path Screenshot" class="lightbox-image" loading="lazy">
</a></p>
<p>So, it is very simple to use the <code>cd</code> command to move around the file system.</p>

  
  
<div class="box notices cstyle note">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> Autocomplete</div>
  <div class="box-content">

<p>Tired of always having to type in complex folder names and commands in Linux? Thankfully, most Linux terminals, including the one in Codio, support <em>tab completion</em> of commands and paths. Just start typing the first few characters of a command or part of a path, then press the <strong>TAB</strong> key to try and autocomplete it. If there is only one possible completion of that element, the Linux terminal will fill it in for you.</p>
<p>If it is not unique, you can press <strong>TAB</strong> twice to see all possible ways that the command or path could be completed. This shortcut is one of the many ways a Linux power user gets around the terminal so quickly. It is definitely a trick worth learning!</p>
</div>
</div>
<h2 id="other-commands">Other Commands</h2>
<p>There are several other useful Linux terminal commands that we may need to use from time to time. Most of these commands can also be accomplished using the Codio file tree.</p>
<ul>
<li><code>mkdir &lt;path&gt;</code> - make a new directory</li>
<li><code>touch &lt;file&gt;</code> - create a new blank file or update the last modified time of an existing file</li>
<li><code>cat &lt;file&gt;</code> - print a file&rsquo;s contents to the terminal</li>
<li><code>cp &lt;source&gt; &lt;destination&gt;</code> - copy a file or directory from the source to the destination. Use <code>cp -r</code> to make it <em>recursive</em>, where it will copy all of the contents inside of a directory as well.</li>
<li><code>mv &lt;source&gt; &lt;destination&gt;</code> - move a file or directory from the source to the destination. This is very similar to <em>renaming</em> a file or directory.</li>
<li><code>rm &lt;file&gt;</code> - remove (delete) a file</li>
<li><code>rmdir &lt;directory&gt;</code> - remove (delete) an empty directory</li>
</ul>
<p>That&rsquo;s just a small sample of the many commands available on a Linux terminal. For more detailed information, feel free to check out this great video tutorial.</p>
<p><a href="https://www.youtube.com/watch?v=oxuRxtrO2Ag">YouTube Video</a></p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Image Credit: An Introduction to Linux Permissions from Digital Ocean <a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-permissions]" target="_blank">https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-permissions]</a>
&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of File System Commands</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="things-to-keep-in-mind">Things to Keep in Mind</h1>

<h2 id="operating-system-and-file-access">Operating System and File Access</h2>
<p>Linux systems connect programs to the files by use of <strong>file descriptors</strong>.  Linux must keep track of and de-conflict access to all file descriptors used by all processes at all times.  There are a lot of processes in a modern computer, as I am typing this section, my Windows 10 machine has 5-applications and 92-background programs&ndash;each of which may be accessing 0 or more file descriptors.</p>
<p>There are three things to realize about file descriptors.  First there is a limit to their number, but that limit is pretty big. Each process in a standard Linux installation can have up to 1024 file descriptors allocated to it.  Each minimally has three:  stdin (the keyboard); stdout (the terminal) and stderr (a separate &ldquo;stream&rdquo; for error messages).  In this class, we display stderr to the terminal, but in production applications this may be re-routed to a log file or even a real-time monitoring center in the case of security errors.</p>
<p>Next, depending on how we access a file from our programs, Linux has to check every other file descriptor for potential conflicts.  For example many programs can read from the same file at the same time without issues; but allowing many files to write to the the same file at the same time is VERY complex if done correctly&ndash;often it is not allowed.  Allowing one writer with many readers is also a complex task for the operating system to figure out.  This leads to the third thing about file descriptors.</p>
<p>The time it takes Linux to manage the file access grows exponentially with each new file descriptor.  The time added to the task for the system&rsquo;s 1000th file descriptor is more than the time that was added for the 999th file descriptor.</p>
<p>Closing a file tells the operating system to delete the file descriptor.</p>
<h2 id="generally-good-ideas-about-file-access">Generally Good Ideas About File Access</h2>
<ol>
<li>Keep files open for as short a time as practical.  Opening a file, reading it into memory, and then closing it is often better than keeping the file open and reading pieces of it in bits. If the file is huge, there are random access methods (not covered in this class), which allow you to &ldquo;fast forward&rdquo; to the part you need.</li>
<li>If you know you are only going to read the file, open it for read only access. It is easier for the operating system to manage read only file descriptors.</li>
<li>Make sure that you close files.  Either explicitly do it, using some <code>myfile.close()</code> method or ensure you open it in a managed context (<code>with</code> in Python and C#, <code>try (with resource)</code> in Java).</li>
</ol>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 6.J</div>
<h1 id="java-file-system">Java File System</h1>

<p>File System in Java</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Java File System</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="reading-files">Reading Files</h1>

<!--
<a href="https://www.youtube.com/watch?v=y6vTrInbR1I">YouTube Video</a>


<!--[Video Materials](/11-file-system/06-java/01-reading-files/video/)

<!-- TODO Update Video -->
<p>We&rsquo;ve already been reading data from files throughout most of this course. However, let&rsquo;s take some time to review that code and improve it a bit to make it more flexible for use in the future.</p>
<h2 id="opening-a-file-using-javaniofile">Opening a File using <code>java.nio.file</code></h2>
<p>Here is the code we&rsquo;ve used in the Exceptions module to open a file for reading:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span>args<span style="color:#f92672">[</span>0<span style="color:#f92672">]));</span></span></span></code></pre></div><p>This code uses a file name from the first command-line argument, and then creates a Scanner object to read data from that file, using an intermediate File object to represent the file itself. Scanners only open files for reading.</p>
<p>The File object used here is part of the older <code>java.io</code> package, which has been present in the Java API for quite a while. However, more recent versions of Java have included the new <code>java.nio.file</code> package, which includes many easier to use methods for handling files and directories.</p>
<p>So, instead of using a File object from <code>java.io</code>, we will use a Path object from <code>java.nio.file</code>, which is much more flexible. In fact, it is completely compatible with the older versions, so we can easily obtain a Path from a File and vice-versa.</p>
<p>To create a Path object, we use the <code>Paths.get()</code> static method. So, an updated version of our starter code might look like this:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.Paths<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Read</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception<span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    Scanner reader<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>args<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> 0<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>args<span style="color:#f92672">[</span>0<span style="color:#f92672">]));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">else</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">in</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* -=-=-=-=- MORE CODE GOES HERE -=-=-=-=- */</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>There are a couple of important changes:</p>
<ol>
<li>Instead of <code>import java.io.File;</code> at the top of the code, we must now use <code>import java.nio.file.Paths;</code> to get access to the new Paths class.</li>
<li>When creating the Scanner, we can now use <code>reader = new Scanner(Paths.get(args[0]));</code>. This will use the <code>Paths.get()</code> static method to create a Path object, and then use that object to construct a Scanner which can read data from the file found at that path.</li>
</ol>
<p>With those changes in place, we are now using the <code>java.nio.file</code> library, which we&rsquo;ll use throughout this chapter.</p>
<h2 id="exceptions">Exceptions</h2>
<p>Of course, as we learned in an earlier chapter, we should also add some <strong>Try-Catch</strong> and <strong>Try with Resouces</strong> statements to this code to prevent any exceptions. So, let&rsquo;s do that now:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.Paths<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.lang.ArrayIndexOutOfBoundsException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.InvalidPathException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.NoSuchFileException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Read</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception<span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    Scanner scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      scanner <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>args<span style="color:#f92672">[</span>0<span style="color:#f92672">]));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>ArrayIndexOutOfBoundsException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//no arguments provided, just read from System.in
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      scanner <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">in</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>InvalidPathException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//path is invalid
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: invalid file path!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>NoSuchFileException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//file is not found
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: file not found!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//Try with Resources will automatically close the file
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      Scanner reader <span style="color:#f92672">=</span> scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">/* -=-=-=-=- MORE CODE GOES HERE -=-=-=-=- */</span>
</span></span><span style="display:flex;"><span>     
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//add additional catch statements here to handle expected exceptions
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>Exception e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//generic catch statement
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: unknown error while reading input!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>This code is very similar to the code we saw in a previous chapter, with a couple of major changes:</p>
<ol>
<li>Since we are using the <code>java.nio.file</code> package, we now must use <code>import java.nio.file.NoSuchFileException;</code> to get the correct exception when a file cannot be found.</li>
<li>In addition, the <code>Paths.get()</code> method can throw an <code>InvalidPathException</code> if the path provided cannot be converted to a proper path.</li>
<li>In keeping with the previous assignments in this course, if no command-line argument is provided, we&rsquo;ll catch the ArrayIndexOutOfBoundsException and read input from <code>System.in</code> instead. If the program should only read input from a file, we can change this handler to do something else.</li>
<li>At the bottom, we are using a <strong>Try with Resources</strong> statement to actually handle reading our input. This will automatically close the file once we are done with it. Otherwise, we&rsquo;d need to add <code>scanner.close()</code> at the end of our program, possibly in a <code>finally</code> block.</li>
</ol>
<h2 id="reading-data">Reading Data</h2>
<p>Once we have our file open, we can use the same methods we&rsquo;ve been using to read data from the file. For example, we can use a simple <strong>While</strong> loop to read each line of the file:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">while</span><span style="color:#f92672">(</span>scanner<span style="color:#f92672">.</span><span style="color:#a6e22e">hasNext</span><span style="color:#f92672">()){</span>
</span></span><span style="display:flex;"><span>  String line <span style="color:#f92672">=</span> scanner<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">trim</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>line<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">()</span> <span style="color:#f92672">==</span> 0<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>In this code, we use the <code>hasNext()</code> method to check and see if the file has any additional lines to read. If so, it will read the line using the <code>nextLine()</code> method. We are also using the <code>trim()</code> method to remove any extra spaces from the beginning and end of the line. Finally, we have a short <strong>If-Then</strong> statement to check and see if the line is empty. If so, we&rsquo;ll assume that we&rsquo;ve reached the end of the input file, or that the user typing input via the terminal is done, and we&rsquo;ll <code>break</code> out of the loop.</p>
<h2 id="example">Example</h2>
<p>Let&rsquo;s try a quick example program, just to see how the new <code>java.nio.file</code> library works.</p>

  
    
    
  
  
<div class="box notices cstyle noiframe">
  <div class="box-label"><i class="fa-fw fas fa-times-circle"></i> Web Only</div>
  <div class="box-content">

<p>This content is presented in the course directly through Codio. Any references to interactive portions are only relevant for that interface. This content is included here as reference only.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Reading Files</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="writing-files">Writing Files</h1>

<p><a href="https://www.youtube.com/watch?v=u0jr_oelbuc">YouTube Video</a></p>
<p><a href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/06-java/02-writing-files/video/">Video Materials</a>
</p>
<p>Beyond just reading data from files, we can also create our own files and write data directly to them.</p>
<h2 id="opening-a-file-for-writing">Opening a File for Writing</h2>
<p>In Java, we&rsquo;ll use a class named BufferedWriter to actually handle writing to a file. So, to create a BufferedWriter object, we could do something like the following example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.BufferedWriter<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.Files<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.Paths<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.lang.UnsupportedOperationException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.InvalidPathException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.lang.ArrayIndexOutOfBoundsException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Write</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>      BufferedWriter writer <span style="color:#f92672">=</span> Files<span style="color:#f92672">.</span><span style="color:#a6e22e">newBufferedWriter</span><span style="color:#f92672">(</span>Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>args<span style="color:#f92672">[</span>0<span style="color:#f92672">]));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>   
</span></span><span style="display:flex;"><span>      writer<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Hello World&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      writer<span style="color:#f92672">.</span><span style="color:#a6e22e">newLine</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>   
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>ArrayIndexOutOfBoundsException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//no arguments provided
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: no arguments provided!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>InvalidPathException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//path is invalid
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: invalid file path!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>IOException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//cannot open file or error while writing
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: I/O error!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>UnsupportedOperationException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//unable to open the file for writing
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: unable to open file for writing!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>Exception e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//something went wrong
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: unknown error!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>Let&rsquo;s break this code down into smaller parts so we can understand how it works.</p>
<p>First, we are using a <strong>Try with Resources</strong> statement to handle creating the BufferedWriter to write to the output file. This will automatically handle closing the file when we are done with it. Otherwise, we&rsquo;d need to add a <code>finally</code> block that includes <code>writer.close()</code> to make sure the file is closed properly. If we don&rsquo;t do that step, there is a chance that our data may not get written to the file correctly.</p>
<p>Inside of the <strong>Try with Resources</strong> block, we have this line:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>BufferedWriter writer <span style="color:#f92672">=</span> Files<span style="color:#f92672">.</span><span style="color:#a6e22e">newBufferedWriter</span><span style="color:#f92672">(</span>Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>args<span style="color:#f92672">[</span>0<span style="color:#f92672">]));</span></span></span></code></pre></div><p>This line uses the Files class in <code>java.nio.files</code> to handle opening a file and creating a new BufferedWriter to write to that file. The <code>newBufferedWriter()</code> method needs a single input, which is a Path object representing the file to be opened. So, we can use the same <code>Paths.get()</code> method we use when opening a file for reading. Here we are using <code>args[0]</code> as the path to the file, but we can use any valid String as well.</p>
<p>It is important to note that, by default, if the file we are writing to already exists, it will be overwritten with the new output. If it doesn&rsquo;t exist, it will be created. There are ways to open a file and append new data to it without overwriting the file, which we&rsquo;ll discuss below.</p>
<p>Inside of the <strong>Try with Resources</strong> statement, we see two lines that write data to the file using the BufferedWriter object. The first method, <code>writer.write()</code> can be used to write any String to the file. So, we can use this just like we would <code>System.out.print()</code> when writing output to the terminal. We can even use formatted strings as well!</p>
<p>The second line, <code>writer.newLine()</code> prints a newline character to the output file. This is because the <code>writer.write()</code> method does not output a newline character by default each time it is used. This is different than <code>System.out.println()</code>, which always outputs a newline after each output. So, we need to use <code>writer.newLine()</code> each time we want to start on a new line.</p>
<p>Finally, there are several exception handlers at the end of the <strong>Try with Resources</strong> statement. They handle the most common exceptions that can occur when opening and writing to a file. The only one we haven&rsquo;t covered so far is the UnsupportedOperationException, which is used when the operating system doesn&rsquo;t allow us to write to a file, usually because the file permissions do not allow us to change or modify the file. It can also happen when we aren&rsquo;t allowed to create a new file in the location we&rsquo;ve specified. There are several other exceptions that could be thrown when we are unable to write to a file based on the type of operating system we are using. So, we&rsquo;ll also need to catch a generic Exception here, just to be safe.</p>
<h2 id="standard-open-options">Standard Open Options</h2>
<p>When opening a file, we can also give a set of options, known as StandardOpenOptions in Java, to specify how we&rsquo;d like to handle the file when it is opened. By default, when we use the <code>Files.newBufferedWriter()</code> method to open a file, it uses the following options:</p>
<ul>
<li>StandardOpenOption.CREATE - create a file if it does not already exist</li>
<li>StandardOpenOption.WRITE - open for write access</li>
<li>StandardOpenOption.TRUNCATE_EXISTING - if the file exists, it will be truncated (all data will be removed)</li>
</ul>
<p>If we&rsquo;d like to change those options, we can specify them when opening the file. For example, if we&rsquo;d like to append to an existing file, we can use the following code to open the file:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>BufferedWriter writer <span style="color:#f92672">=</span> Files<span style="color:#f92672">.</span><span style="color:#a6e22e">newBufferedWriter</span><span style="color:#f92672">(</span>Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>args<span style="color:#f92672">[</span>0<span style="color:#f92672">]),</span> StandardOpenOption<span style="color:#f92672">.</span><span style="color:#a6e22e">CREATE</span><span style="color:#f92672">,</span> StandardOpenOption<span style="color:#f92672">.</span><span style="color:#a6e22e">WRITE</span><span style="color:#f92672">,</span> StandardOpenOption<span style="color:#f92672">.</span><span style="color:#a6e22e">APPEND</span><span style="color:#f92672">);</span></span></span></code></pre></div><p>We&rsquo;ll also need to add <code>import java.nio.file.StandardOpenOption;</code> to the top of the file to give us access to those options.</p>
<p>There are many other options available in the Java StandardOpenOption class. Feel free to read the documentation linked below in the resources section to learn more.</p>
<h2 id="flushing-output-buffers">Flushing Output Buffers</h2>
<p>When writing data to a file using a program, it is important to understand how the underlying operating system handles that process. In many cases, the operating system will store, or <em>buffer</em> the output in memory, then write the output directly to the file a bit later. This allows the operating system to tell our program that the write was successful while it waits for the storage device the file is actually stored on to respond. So, our programs appear to run very quickly.</p>
<p>However, at times we want to tell the operating system to write the data it has stored in memory directly to the file. To do that, we can use the <code>flush()</code> method of our BufferedWriter class to <em>flush the buffer</em>, or make sure the data is written to the file. Here&rsquo;s an example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>writer<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Hello World&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span><span style="color:#a6e22e">newLine</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span><span style="color:#a6e22e">flush</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;More data&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span></span></span></code></pre></div><p>Thankfully, the <code>close()</code> method will automatically write any buffered data to the file before closing it. So, we can either use the <code>close()</code> method ourselves, or use a <strong>Try with Resources</strong> statement to make sure that the file is closed automatically for us.</p>
<p>We can even use <code>System.out.flush()</code> to perform the same operation when printing output to the terminal. In most cases all of our output is printed directly to the terminal, but we can make sure that the output buffer is empty by using the <code>flush()</code> method anytime.</p>
<h2 id="example">Example</h2>
<p>Here&rsquo;s another quick example program to make sure we are able to write to files correctly. Feel free to adapt the code above to complete the exercise.</p>

  
    
    
  
  
<div class="box notices cstyle noiframe">
  <div class="box-label"><i class="fa-fw fas fa-times-circle"></i> Web Only</div>
  <div class="box-content">

<p>This content is presented in the course directly through Codio. Any references to interactive portions are only relevant for that interface. This content is included here as reference only.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Writing Files</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="file-operations">File Operations</h1>

<p><a href="https://www.youtube.com/watch?v=gAAiv1Hbafc">YouTube Video</a></p>
<p><a href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/06-java/03-file-operations/video/">Video Materials</a>
</p>
<p>Beyond just reading and writing files, we can also perform several operations on files and directories from within our programs. In fact, pretty much any operation that can be done in the terminal can also be done in our programs, though some are more difficult than others. Let&rsquo;s review a few of the common file operations and how we can use them in Java.</p>
<h2 id="paths">Paths</h2>
<p>First, we&rsquo;ll need to know how to access a <em>path</em> using Java. A <em>path</em> is a string that references a particular file or directory in a file system, identified by the path needed to move from the root node to that item. So, for example, we may use the path <code>/home/codio/workspace/file.txt</code> to reference a particular file in our Codio workspace.</p>
<p>In Java, we also use the term <em>Path</em> to refer to an object that points to an item on the file system.</p>
<p>To create a Path object in Java, we use code similar to this</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.Paths<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.Path<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.Files<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.InvalidPathException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Manipulate</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      Path pathObject <span style="color:#f92672">=</span> Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/home/codio/workspace/file.txt&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">/* -=-=-=-=- MORE CODE GOES HERE -=-=-=-=- */</span>
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>InvalidPathException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//cannot convert string to path
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: Invalid Path&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>IOException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//file system error
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: IOException&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>In the code above, we can simply replace the string <code>&quot;/home/codio/workspace/file.txt&quot;</code> with any valid file path stored in a string to create the indicated Path object. It will even accept absolute paths, relative paths, and paths to directories instead of just individual files. It&rsquo;s a very versatile tool to use. For the rest of the examples below, we&rsquo;ll be using the <code>pathObject</code> variable created in the example above, with the code placed where the <code>MORE CODE GOES HERE</code> comment is in the skeleton above.</p>
<h2 id="what-is-it">What Is It?</h2>
<p>Once we have a Path object, we can use a few methods to determine what type of an object it is:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//Determine if a file or directory exists at that path
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Files<span style="color:#f92672">.</span><span style="color:#a6e22e">exists</span><span style="color:#f92672">(</span>pathObject<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//Is that object a directory?
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Files<span style="color:#f92672">.</span><span style="color:#a6e22e">isDirectory</span><span style="color:#f92672">(</span>pathObject<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//Is that object a regular file?
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Files<span style="color:#f92672">.</span><span style="color:#a6e22e">isRegularFile</span><span style="color:#f92672">(</span>pathObject<span style="color:#f92672">);</span></span></span></code></pre></div><p>Each of those methods returns a boolean value, either <code>true</code> or <code>false</code>. So, they can easily be used with <strong>If-Then</strong> statements to take different actions based on the type of object found. So, in our code, we can use some of these tests before trying to open a file, avoiding some of the more common exceptions. As we discussed in the chapter on exceptions, it is really up to us whether we prefer to use <strong>If-Then</strong> statements to avoid these exceptions, or <strong>Try-Catch</strong> statements to deal with them when they do happen.</p>
<h2 id="how-big-is-it">How Big Is It?</h2>
<p>We can also get the size of the object:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Files<span style="color:#f92672">.</span><span style="color:#a6e22e">size</span><span style="color:#f92672">(</span>pathObject<span style="color:#f92672">);</span></span></span></code></pre></div><p>If the item is a regular file, this method will return the size in bytes of the file. However, if we use this method on a file that doesn&rsquo;t exist, or a directory, it will throw an IOException, so we&rsquo;ll probably need to pair it with one of the other methods above to avoid that problem.</p>
<h2 id="copy-and-move">Copy and Move</h2>
<p>There are also methods we can use to copy or move an item from one path to another path:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Path source <span style="color:#f92672">=</span> Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/home/codio/workspace/dir1/file1.txt&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>Path dest <span style="color:#f92672">=</span> Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/home/codio/workspace/dir2/file2.txt&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Files<span style="color:#f92672">.</span><span style="color:#a6e22e">copy</span><span style="color:#f92672">(</span>source<span style="color:#f92672">,</span> dest<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>Files<span style="color:#f92672">.</span><span style="color:#a6e22e">move</span><span style="color:#f92672">(</span>source<span style="color:#f92672">,</span> dest<span style="color:#f92672">);</span></span></span></code></pre></div><p>These work very similarly to the <code>cp</code> and <code>mv</code> commands we&rsquo;ve already seen on the Linux terminal. In addition, if the destination path already exists, these methods will throw a <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileAlreadyExistsException.html" target="_blank">FileAlreadyExistsException</a>
 unless we specify that it should overwrite existing files. We can refer to the documentation linked below to see examples for how to accomplish that.</p>
<h2 id="delete">Delete</h2>
<p>We can also delete an existing file or path:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Files<span style="color:#f92672">.</span><span style="color:#a6e22e">delete</span><span style="color:#f92672">(</span>pathObject<span style="color:#f92672">);</span></span></span></code></pre></div><p>This method will delete a single file if the <code>pathObject</code> variable references a single file. If it references a directory, that directory must be empty, or else it will throw a <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/DirectoryNotEmptyException.html" target="_blank">DirectoryNotEmptyException</a>
.</p>
<h2 id="create">Create</h2>
<p>Of course, we can also create either a file or directory based on a Path:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Files<span style="color:#f92672">.</span><span style="color:#a6e22e">createFile</span><span style="color:#f92672">(</span>pathObject<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>Files<span style="color:#f92672">.</span><span style="color:#a6e22e">createDirectory</span><span style="color:#f92672">(</span>pathObject<span style="color:#f92672">);</span></span></span></code></pre></div><p>These methods will also throw a <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileAlreadyExistsException.html" target="_blank">FileAlreadyExistsException</a>
 if something already exists at that path.</p>
<h2 id="example">Example</h2>
<p>Let&rsquo;s create a simple example program to test a few of these methods.</p>

  
    
    
  
  
<div class="box notices cstyle noiframe">
  <div class="box-label"><i class="fa-fw fas fa-times-circle"></i> Web Only</div>
  <div class="box-content">

<p>This content is presented in the course directly through Codio. Any references to interactive portions are only relevant for that interface. This content is included here as reference only.</p>
</div>
</div>
<h3 id="references">References</h3>
<ul>
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html" target="_blank">Files</a>
 in the Java 8 API Documentation</li>
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Paths.html" target="_blank">Paths</a>
 in the Java 8 API Documentation</li>
<li><a href="https://docs.oracle.com/javase/tutorial/essential/io/fileio.html" target="_blank">Java File I/O Tutorial</a>
 from Oracle&rsquo;s Java Tutorials</li>
</ul>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of File Operations</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="a-worked-example">A Worked Example</h1>

<p><a href="https://www.youtube.com/watch?v=n3_3dxzlMD4">YouTube Video</a></p>
<p><a href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/06-java/04-example/video/">Video Materials</a>
</p>
<p>Now that we&rsquo;ve seen how to handle working with files in Java, let&rsquo;s go through an example program to see how we can apply that knowledge to a real program.</p>
<h2 id="problem-statement">Problem Statement</h2>
<p>Here&rsquo;s a problem statement we can use:</p>
<blockquote>
<p>Write a program that accepts three files as command line arguments. The first two represent input files, and the third one represents the desired output file. If there aren&rsquo;t three arguments provided, either input file is not an existing file, or the output file is an existing directory, print &ldquo;Invalid Arguments&rdquo; and exit the program. The output file may be an existing file, since it will be overwritten.</p>
</blockquote>
<blockquote>
<p>The program should open each input file and read the contents. Each input file will consist of a list of whole numbers, one per line. If there are any errors parsing the contents of either file, the program should print &ldquo;Invalid Input&rdquo; and exit. As the input is read, the program should keep track of both the count and sum of all even inputs and odd inputs.</p>
</blockquote>
<blockquote>
<p>Once all input is read, the program should create the output file and print the following four items, in this order, one per line: number of even inputs, sum of even inputs, number of odd inputs, sum of odd inputs.</p>
</blockquote>
<blockquote>
<p>Finally, when the program is done, it should simply print &ldquo;Complete&rdquo; and exit. Don&rsquo;t forget to close any open files!</p>
</blockquote>
<p>So, let&rsquo;s break down this problem statement and see if we can build a program to perform this action.</p>
<h2 id="parsing-arguments">Parsing Arguments</h2>
<p>First, let&rsquo;s handle parsing the command line arguments. So, we can start with a simple program skeleton, containing both a class declaration and a main method declaration:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Example</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>Next, we&rsquo;ll want to make sure there are exactly three arguments. This is probably best done using an <strong>If-Then</strong> statement, since it makes the code a bit simpler to read than if we would use a <strong>Try-Catch</strong> statement. However, either approach will work.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Example</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>args<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">!=</span> 3<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Invalid Arguments&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>Next, we&rsquo;ll need to check and make sure that each of the first two arguments is a valid file that we can open. Since we intend to open them anyway, let&rsquo;s just use a <strong>Try with Resources</strong> statement:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.Files<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.Paths<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.InvalidPathException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.NoSuchFileException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.BufferedWriter<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.lang.NumberFormatException<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Example</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>args<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">!=</span> 3<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Invalid Arguments&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>      Scanner scanner1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>args<span style="color:#f92672">[</span>0<span style="color:#f92672">]));</span>
</span></span><span style="display:flex;"><span>      Scanner scanner2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner<span style="color:#f92672">(</span>Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>args<span style="color:#f92672">[</span>1<span style="color:#f92672">]));</span>
</span></span><span style="display:flex;"><span>      BufferedWriter writer <span style="color:#f92672">=</span> Files<span style="color:#f92672">.</span><span style="color:#a6e22e">newBufferedWriter</span><span style="color:#f92672">(</span>Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>args<span style="color:#f92672">[</span>2<span style="color:#f92672">]))</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">/* -=-=-=-=- MORE CODE GOES HERE -=-=-=-=- */</span>
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>InvalidPathException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Invalid Arguments&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>NoSuchFileException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Invalid Arguments&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>IOException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Invalid Arguments&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* -=-=-=-=- MORE EXCEPTIONS GO HERE -=-=-=-=- */</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>There are a few new things in this code that we haven&rsquo;t seen before:</p>
<ul>
<li>We can include multiple variables in a <strong>Try with Resources</strong> statement by simply separating them with a semicolon <code>;</code>.</li>
<li>Since we aren&rsquo;t worrying about reading input from <code>System.in</code>, we can just create our Scanner and BufferedWriter objects directly in the <strong>Try with Resources</strong> statement. Actually, this makes the code very straightforward.</li>
<li>Recall that the <code>args</code> variable is actually an array, so we can access additional command line arguments by simply using different array indices. We haven&rsquo;t done that yet, but it should make sense.</li>
</ul>
<p>Now that we&rsquo;ve confirmed that we can open each file, we can start coding the program&rsquo;s logic. For the rest of this example, we&rsquo;ll look at a smaller portion of the code. That code can be placed where the <code>MORE CODE GOES HERE</code> comment is in the skeleton above. We&rsquo;ll also need to handle a few more exceptions, which can be added where the <code>MORE EXCEPTIONS GO HERE</code> comment is above.</p>
<h2 id="logic">Logic</h2>
<p>The program&rsquo;s logic should be pretty straightforward. First, we&rsquo;ll need to create loops to read input from each input file:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">while</span><span style="color:#f92672">(</span>scanner1<span style="color:#f92672">.</span><span style="color:#a6e22e">hasNext</span><span style="color:#f92672">()){</span>
</span></span><span style="display:flex;"><span>  String line <span style="color:#f92672">=</span> scanner1<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">trim</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span><span style="color:#f92672">(</span>scanner2<span style="color:#f92672">.</span><span style="color:#a6e22e">hasNext</span><span style="color:#f92672">()){</span>
</span></span><span style="display:flex;"><span>  String line <span style="color:#f92672">=</span> scanner2<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">trim</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>Notice that we are using two separate <strong>While</strong> loops here. Since we are dealing with two different input files that are unrelated, this is the simplest way to go.</p>
<p>Next, we can parse the input to an integer, and then determine if it is even or odd:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">while</span><span style="color:#f92672">(</span>scanner1<span style="color:#f92672">.</span><span style="color:#a6e22e">hasNext</span><span style="color:#f92672">()){</span>
</span></span><span style="display:flex;"><span>  String line <span style="color:#f92672">=</span> scanner1<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">trim</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> input <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>line<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>input <span style="color:#f92672">%</span> 2 <span style="color:#f92672">==</span> 0<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//even
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#f92672">}</span><span style="color:#66d9ef">else</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//odd
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span><span style="color:#f92672">(</span>scanner2<span style="color:#f92672">.</span><span style="color:#a6e22e">hasNext</span><span style="color:#f92672">()){</span>
</span></span><span style="display:flex;"><span>  String line <span style="color:#f92672">=</span> scanner2<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">trim</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> input <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>line<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>input <span style="color:#f92672">%</span> 2 <span style="color:#f92672">==</span> 0<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//even
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#f92672">}</span><span style="color:#66d9ef">else</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//odd
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>Finally, we can add a few state variables to keep track of how many of each type we&rsquo;ve had, and their sum as well:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> countEven <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> countOdd <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> sumEven <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> sumOdd <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span><span style="color:#f92672">(</span>scanner1<span style="color:#f92672">.</span><span style="color:#a6e22e">hasNext</span><span style="color:#f92672">()){</span>
</span></span><span style="display:flex;"><span>  String line <span style="color:#f92672">=</span> scanner1<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">trim</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> input <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>line<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>input <span style="color:#f92672">%</span> 2 <span style="color:#f92672">==</span> 0<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    countEven <span style="color:#f92672">+=</span> 1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    sumEven <span style="color:#f92672">+=</span> input<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span><span style="color:#66d9ef">else</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    countOdd <span style="color:#f92672">+=</span> 1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    sumOdd <span style="color:#f92672">+=</span> input<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span><span style="color:#f92672">(</span>scanner2<span style="color:#f92672">.</span><span style="color:#a6e22e">hasNext</span><span style="color:#f92672">()){</span>
</span></span><span style="display:flex;"><span>  String line <span style="color:#f92672">=</span> scanner2<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">trim</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> input <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>line<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>input <span style="color:#f92672">%</span> 2 <span style="color:#f92672">==</span> 0<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    countEven <span style="color:#f92672">+=</span> 1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    sumEven <span style="color:#f92672">+=</span> input<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span><span style="color:#66d9ef">else</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    countOdd <span style="color:#f92672">+=</span> 1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    sumOdd <span style="color:#f92672">+=</span> input<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><h2 id="exceptions">Exceptions</h2>
<p>In the new code above, we are converting strings to integers, which could result in a NumberFormatException. So, we&rsquo;ll need to add one more <code>catch</code> block to the <strong>Try with Resources</strong> statement in the skeleton at the top of this page:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>NumberFormatException e<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Invalid Input&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>That will handle any problems with the input files themselves.</p>
<h2 id="printing-output">Printing Output</h2>
<p>Finally, we can simply print our four variables to the output file:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> countEven <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> countOdd <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> sumEven <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> sumOdd <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span><span style="color:#f92672">(</span>scanner1<span style="color:#f92672">.</span><span style="color:#a6e22e">hasNext</span><span style="color:#f92672">()){</span>
</span></span><span style="display:flex;"><span>  String line <span style="color:#f92672">=</span> scanner1<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">trim</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> input <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>line<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>input <span style="color:#f92672">%</span> 2 <span style="color:#f92672">==</span> 0<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    countEven <span style="color:#f92672">+=</span> 1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    sumEven <span style="color:#f92672">+=</span> input<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span><span style="color:#66d9ef">else</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    countOdd <span style="color:#f92672">+=</span> 1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    sumOdd <span style="color:#f92672">+=</span> input<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span><span style="color:#f92672">(</span>scanner2<span style="color:#f92672">.</span><span style="color:#a6e22e">hasNext</span><span style="color:#f92672">()){</span>
</span></span><span style="display:flex;"><span>  String line <span style="color:#f92672">=</span> scanner2<span style="color:#f92672">.</span><span style="color:#a6e22e">nextLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">trim</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> input <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>line<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>input <span style="color:#f92672">%</span> 2 <span style="color:#f92672">==</span> 0<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    countEven <span style="color:#f92672">+=</span> 1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    sumEven <span style="color:#f92672">+=</span> input<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span><span style="color:#66d9ef">else</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    countOdd <span style="color:#f92672">+=</span> 1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    sumOdd <span style="color:#f92672">+=</span> input<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">+</span> countEven<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span><span style="color:#a6e22e">newLine</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">+</span> sumEven<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span><span style="color:#a6e22e">newLine</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">+</span> countOdd<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span><span style="color:#a6e22e">newLine</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">+</span> sumOdd<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span><span style="color:#a6e22e">newLine</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Complete&#34;</span><span style="color:#f92672">);</span></span></span></code></pre></div><p>The eight lines at the end should be pretty self-explanatory. We can simply print each number, but we&rsquo;ll need to convert them to a string first. The simplest way to do that is simply to use the concatenate operator <code>+</code> and concatenate each number with a string, which will automatically convert everything to a string. We&rsquo;ll  also need to remember to print a newline between each of them using the <code>newLine()</code> method. Of course, we also need to print <code>Complete</code> once we are finished!</p>
<h2 id="testing">Testing</h2>
<p>Once we&rsquo;ve completed the code, we can use the button below to test it and see if it works. Don&rsquo;t forget to open the <code>example.pregrade.html</code> file that it creates to see detailed feedback from your program.</p>

  
    
    
  
  
<div class="box notices cstyle noiframe">
  <div class="box-label"><i class="fa-fw fas fa-times-circle"></i> Web Only</div>
  <div class="box-content">

<p>This content is presented in the course directly through Codio. Any references to interactive portions are only relevant for that interface. This content is included here as reference only.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of A Worked Example</h1>
    
    
          </section>
          </section>
    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 6.P</div>
<h1 id="python-file-system">Python File System</h1>

<p>File System in Python</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Python File System</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="paths--managing-resources">Paths &amp; Managing Resources</h1>

<h2 id="path-vs-file-objects">Path vs File objects</h2>
<p>In Python 2, the file system was accessed using a variety of functions built into several modules: <code>sys</code>, <code>os</code>, <code>glob</code>, <code>shutil</code> are some of the more common.  The standard way to open a file was with the built-in function <code>open(&lt;str&gt;)</code>.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;myTest.txt&#39;</span>)
</span></span><span style="display:flex;"><span>print (type(a))  <span style="color:#75715e">#&lt;type &#39;file&#39;&gt;</span></span></span></code></pre></div><p>Which attempted to open the file represented by the string and returns a file-object.  <a href="https://docs.python.org/3/c-api/file.html">File-objects</a> could be read, written to and searched.  However, it was not possible or convenient  to rename, move, copy etc the file object.  Making matters worse, path naming conventions vary by operating system, meaning Python 2 programs written for Windows might not work in OS, Android etc.</p>
<p>Python 3 resolves this by introducing in 2014 the <code>Path</code> object in the <code>pathlib</code> module.  <a href="https://docs.python.org/3/c-api/pathlib.html">Path-objects</a> are operating system agnostic<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> and offer a host of methods to support a rich range of operations.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pathlib <span style="color:#f92672">import</span> Path
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> Path(<span style="color:#e6db74">&#39;myTest.txt&#39;</span>)
</span></span><span style="display:flex;"><span>print (type(a))  <span style="color:#75715e">#&lt;class &#39;pathlib.PosixPath&#39;&gt;  Linux (our OS) uses a posix file system</span></span></span></code></pre></div><p>Path objects can be files, directories or place-holders. If they are files they can be opened for reading and writing.  We will use Path-objects for file access in this course, Path-objects are like a supper-set of File-objects.</p>
<h2 id="managing-resources-context">Managing Resources (context)</h2>
<p>There are various resources the Python interpreter, or any computer language, must receive from the operating systems.  The most common are memory and Input/output streams^[a file descriptor is a kind of IO stream].</p>
<h3 id="memory">Memory</h3>
<p>The Python interpreter manages the memory your programs uses.  It occasionally runs a &ldquo;garbage collector&rdquo; which searches for objects that have been deleted or have fallen out of scope and tells the OS to reclaim the memory.  this impacts performance as the garbage collector uses up computer cycles even if there is nothing to collect.</p>
<p>Older languages (notably C) and high  performance languages make memory management the programmer&rsquo;s responsibility.  Programmers allocate (<code>malloc()</code>) and free up memory (<code>free()</code>) as required.  Well written programs of this type are smaller (lower memory footprint) and faster in execution that managed memory languages like Python.</p>
<h3 id="files">Files</h3>
<p>Most programming languages, including Python, leave managing file system up to the programmer.  While a program may make thousands of memory requests a second, they will normally only have a handful of files open at a time.  There is basically one rule:</p>
<p><b>Once A File is Opened it MUST be Closed</b></p>
<p>It can be hard to do this if when File/Path-objects are attributes of a class, object; passed as parameters or when exceptions occur.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span>  <span style="color:#f92672">from</span> pathlib <span style="color:#f92672">import</span> Path
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>  some_path <span style="color:#f92672">=</span> Path(<span style="color:#e6db74">&#39;some_file.txt&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>  in_file <span style="color:#f92672">=</span> some_path<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;r&#39;</span>) 
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>  <span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> in_file:
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>      print(int(line))
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6</span>  in_file<span style="color:#f92672">.</span>close()</span></span></code></pre></div><p>Here we</p>
<ul>
<li>create a Path-object (2)</li>
<li>makes a &ldquo;reader&rdquo; for the Path (3)
<ul>
<li>the &lsquo;.open()&rsquo; gets a file handle (descriptor) from the operating system</li>
</ul>
</li>
<li>for each line in the file it attempts to convert the line to an int then print it (4 -5)</li>
<li>closes the reader (6)
<ul>
<li>this tells the OS to free-up or delete the file handle</li>
</ul>
</li>
</ul>
<p>That is fine, as long as there is no error.</p>
<p>But what if a line in the file were &lsquo;cat&rsquo;.  Certainly an exception would get thrown, &lsquo;cat&rsquo; cannot be turned into an <code>int</code>.</p>
<p>The program would terminate, but the OS will not be told to free file handler.  This is bad as the more file handlers that are open, the slower performance.  When  writing to files there are additional hazards:</p>
<ul>
<li>not everything may get written</li>
<li>there is a small chance you corrupt the OS&rsquo;s file-control block, making the file and possibly the directory, unusable</li>
</ul>
<p>To help with this Python has built in a context management function: <code>with .. as .. :</code>.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> <span style="color:#f92672">&lt;</span>item<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">as</span> <span style="color:#f92672">&lt;</span>identifier<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span><span style="color:#f92672">-</span>body</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span>  <span style="color:#f92672">from</span> pathlib <span style="color:#f92672">import</span> Path
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>  some_path <span style="color:#f92672">=</span> Path(<span style="color:#e6db74">&#39;some_file.txt&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>  <span style="color:#66d9ef">with</span> some_path<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> in_file:
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>      <span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> in_file:
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>          print(line)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6</span></span></span></code></pre></div><p>Here we</p>
<ul>
<li>create a Path-object (2) to the file</li>
<li>open the Path for reading (3) using the alias &lsquo;in_file&rsquo;</li>
<li>for each line in the file it attempts to convert the line to an int then print it (4 -5)</li>
<li>closes the reader (6)
** this behavior is built into the <code>with</code> structure</li>
</ul>
<p><code>with</code> will ensure that the <code>.close()</code>  is run on <code>in_file</code> whenever the context (with block) is left.  It will do this even if the reason for leaving the with-block is an unhandled exception.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> <strong>enter</strong>() and <strong>exit</strong>()</div>
  <div class="box-content">

<p>The <code>with</code> statement runs a special enter-method when the with-block starts and exit-method when it finishes.  This is based on the type (class) of the item you create.  With <code>Path-object.open()</code> creates a <code>io.TextIOWrapper</code>, which is a kind of stream which has these special methods defined.</p>
<p>Writing these methods requires detailed knowledge of the operating systems, network protocols and application specific &ldquo;shutdown&rdquo; procedures.</p>
<p>Imagine the complexity of shutting down a networked database session that uses multiple network connections for speed and redundancy.  In this case, <code>__exit__()</code> might have to properly sequence database, network and parallel thread &ldquo;shutdown&rdquo; activities to ensure no corrupt data gets to the database and the network connections can be re-established.</p>
</div>
</div>
<p>You should always wrap your <strong>file</strong> reads and writes in a <code>with</code>-statement.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>When Python is installed, it sets up the <code>pathlib</code> module for the installed OS&ndash; allowing the &ldquo;generic&rdquo; path constructs to access the file system&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="path-objects">Path Objects</h1>

<p>As you should recall, a Linux (Posix) path can be represented by a string, starting from the root (<code>/</code>).</p>
<p>
<a href="#image-0ad165f93e198c0f941699b4837dd942" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/filetree.png" alt="File Tree" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-0ad165f93e198c0f941699b4837dd942">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/filetree.png" alt="File Tree" class="lightbox-image" loading="lazy">
</a></p>
<p>The terminal always starts in <code>/home/codio/workspace</code>  and we have typically worked in <code>/home/codio/workspace/python</code>. When in the terminal, the present working directory (pwd) is the directory &ldquo;level&rdquo; you are currently at.</p>
<p>When you invoke the Python interpreter with the command <code>python3</code>, Python sets the <b>current working directory (cwd)</b> for the program to Linux&rsquo;s pwd.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>/home/codio/workspace<span style="color:#e6db74">$</span> python<span style="color:#ae81ff">3</span> demo<span style="color:#f92672">/</span>demo.py
</span></span><span style="display:flex;"><span>   #  cwd in program is set to <span style="color:#f92672">/</span>home<span style="color:#f92672">/</span>codio<span style="color:#f92672">/</span>workspace
</span></span><span style="display:flex;"><span>   
</span></span><span style="display:flex;"><span><span style="color:#f92672">/</span>home<span style="color:#f92672">/</span>codio<span style="color:#f92672">/</span>workspace<span style="color:#f92672">/</span>demo<span style="color:#e6db74">$</span> python3 demo.py
</span></span><span style="display:flex;"><span>   #  cwd in program is set to /home/codio/workspace/demo</span></span></code></pre></div><h2 id="creating-a-path-object">Creating a Path object</h2>
<p>To create a path object in Python, we use code similar to this</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pathlib <span style="color:#f92672">import</span> Path
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    p_object <span style="color:#f92672">=</span> Path(<span style="color:#e6db74">&#34;/home/codio/workspace/demo/memo.txt&#34;</span>)</span></span></code></pre></div><p>In the code above, we can simply replace the string <code>&quot;/home/codio/workspace/demo/memo.txt&quot;</code> with any string to create the indicated path object. It will even accept relative paths, so <code>p_object(&quot;memo.txt&quot;)</code> would create a path <code>&lt;cwd&gt;/memo.txt</code>.</p>
<p>Path objects have access to many class attributes and methods.  Some useful ones are:</p>
<ul>
<li>name: an attribute string the string used to instantiate the object</li>
<li>absolute(): a method returning a string of the absolute path</li>
<li>exists(): a method returning True if the absolute path is either a file or directory</li>
<li>is_file():  a method returning True if the absolute path is a file</li>
<li>is_dir(): a method returning True if the absolute path is a directory.</li>
</ul>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Why .exists()</div>
  <div class="box-content">

<p>Creating a Path-object does not interact with the file system.  So a reasonable practice when trying to use or access file is to create the path then check if it exists.  In this manner one can safely create new directories and files.  Particularly with files, programming languages assume the programmer knows what they are doing.   Most methods to write to a file will <b>overwrite</b> and destroy any existing file with the same name.</p>
<p>By first checking to see if the path exists, it is possible to choose a new, unused file name so as to not overwrite existing data.</p>
<p>This process of checking if a path exists and is a file <b>before</b> attempting to treat it as such is a type of &ldquo;look before you leap&rdquo; programming.</p>
</div>
</div>
<p>In the file <code>demo/demo.py</code> you can see the use of some common Path features.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>p_memo <span style="color:#f92672">=</span> Path(<span style="color:#e6db74">&#34;memo.txt&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    print (p_memo<span style="color:#f92672">.</span>name)
</span></span><span style="display:flex;"><span>    print (p_memo<span style="color:#f92672">.</span>absolute())
</span></span><span style="display:flex;"><span>    print (p_memo<span style="color:#f92672">.</span>exists())
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">IOError</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>    print(e)</span></span></code></pre></div><p>It creates a Path-object for <code>/home/codio/workspace/demo/memo.txt</code> and prints out its name, absolute path and whether or not it exists.</p>
<p>Note the exception handling.  While not all features of the Path-object interact with the file system, Python documentation does not state which attributes and methods can throw which exceptions^[Several languages, like JAVA, require module authors to list, by method or class, which exceptions can be raised.  This simplifies the programmer&rsquo;s task.]. Here if there is any IO problem with accessing the object&rsquo;s features, we simply catch and print out error.</p>
<h2 id="other-considerations">Other Considerations</h2>
<p>In the below examples if is assumed that <code>from pathlib import Path</code> has been used.</p>
<h3 id="create">Create</h3>
<p>We can also create either a file or directory based on a Path:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pathObject <span style="color:#f92672">=</span> Path(<span style="color:#e6db74">&#34;test&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create a directory</span>
</span></span><span style="display:flex;"><span>pathObject<span style="color:#f92672">.</span>mkdir()
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create a file (by opening it)</span>
</span></span><span style="display:flex;"><span>pathObject<span style="color:#f92672">.</span>touch()</span></span></code></pre></div><p>The <code>mkdir()</code> method will raise a FileExistsError if something already exists at that path. To create a file, <code>.touch()</code> creates an empty file.  It does nothing if the file exists.</p>
<h3 id="copy-and-move">Copy and Move</h3>
<p>There are also methods we can use to copy or move an item from one path to another path:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>destination <span style="color:#f92672">=</span> pathlib<span style="color:#f92672">.</span>Path(<span style="color:#e6db74">&#34;/home/codio/workspace/file2.txt&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Move (rename) a file</span>
</span></span><span style="display:flex;"><span>pathObject<span style="color:#f92672">.</span>rename(destination)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Copy a file</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># We need to add `import shutil` to the top of the script</span>
</span></span><span style="display:flex;"><span>shutil<span style="color:#f92672">.</span>copy2(str(pathObject), str(destination))</span></span></code></pre></div><p>These work very similarly to the <code>cp</code> and <code>mv</code> commands we&rsquo;ve already seen on the Linux terminal. To move a file, we can simply rename it. We&rsquo;re even allowed to use the <code>rename()</code> method to change the path to the file as well.</p>
<p>To copy a file, we use the <code>copy2()</code> method from the <code>shutil</code> library. In Python 3.4, which is the version of Python currently supported in Codio, we need to convert both of our path objects to strings before we can use them with <code>copy2()</code>. However, in more recent versions of Python, we don&rsquo;t have to do that step.</p>
<h3 id="delete">Delete</h3>
<p>We can also delete an existing file or path:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Delete a file</span>
</span></span><span style="display:flex;"><span>pathObject<span style="color:#f92672">.</span>unlink()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Delete an empty directory</span>
</span></span><span style="display:flex;"><span>pathObject<span style="color:#f92672">.</span>rmdir()</span></span></code></pre></div><p>The <code>unlink()</code> method is used to delete a single file. To remove a directory, we can use the <code>rmdir()</code> method instead. However, the directory must be empty, or else the method will raise an OSError.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="reading-files">Reading Files</h1>

<!--
<a href="https://www.youtube.com/watch?v=tdBCzDVmqqo">YouTube Video</a>
 -->
<!--[Video Materials](/11-file-system/06-python/03-reading-files/video/) -->
<!-- TODO Update Video -->
<p>Lets look at how we might take input from either a file or the keyboard.  Our goal is that the program uses the first command line argument for input if it is a file.  If no argument is given it should use the keyboard.  If the first command line argument is not a file, or if an error occurs, the program should print &ldquo;Error processing the first argument as a file&rdquo;. A start might be:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> io
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pathlib
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(cls, args):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> len(args) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># some commands to handle the file reading</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># reader = ???</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            reader <span style="color:#f92672">=</span> sys<span style="color:#f92672">.</span>stdin</span></span></code></pre></div><p>According to the <a href="https://docs.python.org/3.4/library/pathlib.html">Python documentation</a> , <code>Path</code>&rsquo;s <code>.open('r')</code> opens the Path as a file for read-access<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.  Our strategy will be to read the entire file into memory as a string, then convert that string into an ioString Stream so it has the same method calls as the keyboard stream.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> len(args) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># make a Path-object</span>
</span></span><span style="display:flex;"><span>    in_path <span style="color:#f92672">=</span> Path(args[<span style="color:#ae81ff">1</span>]) 
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># make a File-object from the Path object </span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> in_path<span style="color:#f92672">.</span>is_file():
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">with</span> in_path<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> in_file:
</span></span><span style="display:flex;"><span>                <span style="color:#75715e"># store all the text in the file as a string</span>
</span></span><span style="display:flex;"><span>                data <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">.</span>join(in_file<span style="color:#f92672">.</span>readlines())
</span></span><span style="display:flex;"><span>                <span style="color:#75715e"># convert &#39;data&#39; to a stream of text</span>
</span></span><span style="display:flex;"><span>                reader <span style="color:#f92672">=</span> io<span style="color:#f92672">.</span>StringIO(data)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">IOError</span>()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">IOError</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;Path is not a file&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    reader <span style="color:#f92672">=</span> sys<span style="color:#f92672">.</span>stdin</span></span></code></pre></div><h3 id="reading-data-from-the-file">Reading Data From the File</h3>
<ol>
<li>The line <code>data = &quot;&quot;.join(input_file.readlines())</code> reads all the lines from the file.</li>
<li><code>input_file.readlines()</code> creates a list of <code>str</code> to represent the data, and <code>data = &quot;&quot;.join(..)</code> is a way to make them all one <code>str</code>.</li>
<li>This <code>str</code> is then used to create an object of type oi.StringIO&ndash;this object is in the same &ldquo;family&rdquo; as <code>sys.stdin</code> and they share most of the same method names.</li>
</ol>
<p>You can look up <a href="https://docs.python.org/3/library/io.html?highlight=readlines#io.IOBase.readlines">readlines()</a> and <a href="https://docs.python.org/3/library/stdtypes.html">str.join()</a> if you want more information.</p>
<p>Running this code snippet has one of three outcomes:</p>
<ol>
<li><code>reader</code> is a string-stream attached to the data that was in the input file (the file is closed by exiting the <code>with</code> statement)</li>
<li><code>reader</code> is a string-stream attached standard input</li>
<li>an exception has been thrown</li>
</ol>
<h3 id="exceptions">Exceptions</h3>
<p>Of course, as we learned in an earlier chapter, we should also add some <strong>Try-Except</strong> statements to this code to prevent any exceptions from crashing the program. So, let&rsquo;s do that now:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> len(args) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># make a Path-object</span>
</span></span><span style="display:flex;"><span>        in_path <span style="color:#f92672">=</span> Path(args[<span style="color:#ae81ff">1</span>]) 
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># make a File-object from the Path object </span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> in_path<span style="color:#f92672">.</span>is_file():
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">with</span> in_path<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> in_file:
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e"># store all the text in the file as a string</span>
</span></span><span style="display:flex;"><span>                    data <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">.</span>join(in_file<span style="color:#f92672">.</span>readlines())
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e"># convert &#39;data&#39; to a stream of text</span>
</span></span><span style="display:flex;"><span>                    reader <span style="color:#f92672">=</span> io<span style="color:#f92672">.</span>StringIO(data)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>                print(<span style="color:#e6db74">&#34;Error processing the first argument as a file&#34;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;Error processing the first argument as a file&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        reader <span style="color:#f92672">=</span> sys<span style="color:#f92672">.</span>stdin</span></span></code></pre></div><p>We wrap all the Path and File commands in a single try-catch block.</p>
<p>If there is a command line argument, the code uses the Path method <code>is_file()</code> to decide if it is a file and thus if it should try and open in for reading in the <strong>with</strong> statement. Note we print an error message and exit main() using a <code>return</code> statement if the path is not a file.</p>
<p>Te number of exceptions are which could be thrown are vast, esoteric and potentially undocumented<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>&ndash;since we know the file exists, we will never see a FileNotFoundError.  But we could still lose connection with a network drive, or if the file is huge, run out of memory trying to create the StringIO object.  So lets catch the generic Exception and exit the program.</p>
<h2 id="reading-from-the-stringio-or-sysstdin-object">Reading from the StringIO or sys.stdin Object</h2>
<p style="color:red; padding:10"><b>An unfortunate compromise:</b> in order to have the exact same code be able to handle the terminal or a file input and accept a variable number inputs, there has to be a way for a program to determine it is done with getting data.  We have chosen that a blank line represents this sentinel value. This means we cannot write programs that accept blank lines as valid input.<br> Fortunately, it is vary rare to need a program that handles the input from the terminal and a file exactly the same.  In well designed object oriented code, different classes, thus different code will generally be used to process input from different sources. </p>
<p>Data read via the <code>readline()</code> or <code>readlines()</code> methods includes the operating system specific line terminator&ndash;a fancy way of saying the <code>\n</code> character in for Linux.</p>
<p>In this course, it is best to use the string <code>strip()</code> method to eliminate leading and trailing whitespace characters.  Again, we want you focused on the logic and syntax of programming, not hunting for missing &ldquo;spaces&rdquo;.</p>
<p>So to read and print every line you would</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> reader:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> line <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span> <span style="color:#f92672">or</span> len(line<span style="color:#f92672">.</span>strip()) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span></span></span></code></pre></div>
  
    
    
  
  
<div class="box notices cstyle noiframe">
  <div class="box-label"><i class="fa-fw fas fa-times-circle"></i> Web Only</div>
  <div class="box-content">

<p>This content is presented in the course directly through Codio. Any references to interactive portions are only relevant for that interface. This content is included here as reference only.</p>
</div>
</div>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Errors will be thrown if the Path-object is not a file.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>Python specifications do not force language developers to enumerate all the possible exceptions a function or method can generate&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Reading Files</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="writing-files">Writing Files</h1>

<!--
<a href="https://www.youtube.com/watch?v=iGPn_vMqZlY">YouTube Video</a>
 -->
<!--[Video Materials](/11-file-system/06-python/04-writing-files/video/) -->
<!-- TODO Update Video -->
<p>Beyond just reading data from files, we can also create our own files and write data directly to them.</p>
<h2 id="opening-a-file-for-writing">Opening a File for Writing</h2>
<p>In Python, we&rsquo;ll use the  <code>.open()</code> method we&rsquo;ve been using to read from a file to also open a file for writing. So, here&rsquo;s an example of what that might look like:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> pathlib <span style="color:#f92672">import</span> Path
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> io
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Writer</span>:
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@classmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(cls, args):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> len(args) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>            path <span style="color:#f92672">=</span> Path(args[<span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span>: 
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">with</span> path<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#34;w&#34;</span>) <span style="color:#66d9ef">as</span> writer:
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">pass</span> <span style="color:#75715e"># do some writing</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">IOError</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>              <span style="color:#75715e"># unable to write to the file</span>
</span></span><span style="display:flex;"><span>              print(<span style="color:#e6db74">&#34;IOError: </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(e))
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> e:  
</span></span><span style="display:flex;"><span>              <span style="color:#75715e"># unable to write to the file</span>
</span></span><span style="display:flex;"><span>              print(<span style="color:#e6db74">&#34;Exception: </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(e))</span></span></code></pre></div><p>Let&rsquo;s break this code down into smaller parts so we can understand how it works.</p>
<p>First, we are using a <strong>Try-Except</strong> statement to handle any exceptions that are raised when we use a file.
Next we check to see if a command line argument was provided and if so we make a Path object using it.</p>
<p>Then, we use a <strong>With</strong> statement to handle automatically closing our file once we are done with it. Otherwise, we&rsquo;d need to add a <code>finally</code> block that includes <code>writer.close()</code> to make sure the file is closed properly. If we don&rsquo;t do that step, there is a chance that our data may not get written to the file correctly.</p>
<p>We have the <strong>With</strong> statement :</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> path<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#34;w&#34;</span>) <span style="color:#66d9ef">as</span> writer:</span></span></code></pre></div><p>This line creates a <em>io</em> object using Path&rsquo;s <code>open()</code> method to open a file. We provide the argument: &ldquo;w&rdquo;, which stands for write and allows us to open the file for writing. If we don&rsquo;t provide that argument, it will just open the file for reading.  Then, we use the <code>as</code> keyword to assign it to the variable <code>writer</code>. This is very similar to how we&rsquo;ve already seen the <code>as</code> keyword.</p>
<p>It is important to note that, by default, if the file we are writing to already exists, it will be overwritten with the new output. If it doesn&rsquo;t exist, it will be created. There are ways to open a file and append new data to it without overwriting the file, which we&rsquo;ll discuss below.</p>
<p>Inside of the <strong>With</strong> statement, we see two lines that write data to the file using the <code>write()</code> method. That method can be used to write any string to the file. So, we can use this just like we would <code>print()</code> when writing output to the terminal. We can even use formatted strings!</p>
<p>The second line prints a newline character to the output file. This is because the <code>write()</code> method does not output a newline character by default each time it is used. This is different than <code>print()</code>, which always outputs a newline after each output unless we specify otherwise. So, we need to use <code>\n</code> each time we want to print a newline to the file.</p>
<p>Finally, there are several exception handlers at the end of the <strong>Try-Except</strong> statement. They handle the most common exceptions that can occur when opening and writing to a file, but may not account for all possible exceptions. So, we&rsquo;ve also included a block to catch the generic <code>Exception</code> as well.</p>
<h2 id="open-modes">Open Modes</h2>
<p>When opening a file, we can also give a set of options, known as <em>modes</em> in Python, to specify how we&rsquo;d like to handle the file when it is opened. By default, when we use the <code>open()</code> method to open a file, it uses the following option:</p>
<ul>
<li><code>r</code> - open for reading</li>
</ul>
<p>If we&rsquo;d like to change those options, we can specify them when opening the file. For example, if we&rsquo;d like to append to an existing file, we can use the following code in our <strong>With</strong> statement to open the file:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> path<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#34;a&#34;</span>) <span style="color:#66d9ef">as</span> writer:</span></span></code></pre></div><p>There are many other modes available in Python.</p>
<h2 id="flushing-output-buffers">Flushing Output Buffers</h2>
<p>When writing data to a file using a program, it is important to understand how the underlying operating system handles that process. In many cases, the operating system will store, or <em>buffer</em> the output in memory, then write the output directly to the file a bit later. This allows the operating system to tell our program that the write was successful while it waits for the storage device the file is actually stored on to respond. So, our programs appear to run very quickly.</p>
<p>However, at times we want to tell the operating system to write the data it has stored in memory directly to the file. To do that, we can use the <code>flush()</code> method of our file object to <em>flush the buffer</em>, or make sure the data is written to the file. Here&rsquo;s an example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>writer<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;Hello World&#34;</span>)
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span>flush()
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;More data&#34;</span>)
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span>close()</span></span></code></pre></div><p>Thankfully, the <code>close()</code> method will automatically write any buffered data to the file before closing it. So, we can either use the <code>close()</code> method ourselves, or use a <strong>With</strong> statement to make sure that the file is closed automatically for us.</p>
<p>We can even use <code>sys.stdout.flush()</code> to perform the same operation when printing output to the terminal. In most cases all of our output is printed directly to the terminal, but we can make sure that the output buffer is empty by using the <code>sys.stdout.flush()</code> method anytime.</p>
<h2 id="example">Example</h2>
<p>Here&rsquo;s another quick example program to make sure we are able to write to files correctly. Feel free to adapt the code above to complete the exercise.</p>

  
    
    
  
  
<div class="box notices cstyle noiframe">
  <div class="box-label"><i class="fa-fw fas fa-times-circle"></i> Web Only</div>
  <div class="box-content">

<p>This content is presented in the course directly through Codio. Any references to interactive portions are only relevant for that interface. This content is included here as reference only.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Writing Files</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="a-worked-example">A Worked Example</h1>

<p><a href="https://www.youtube.com/watch?v=vZhGJEJs_ck">YouTube Video</a></p>
<p><a href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/06-python/05-example/video/">Video Materials</a>
</p>
<p style="color:red; padding:10; font-size:120%">This video uses `open(str)` instead of `pathlib` Paths.  Most on line sources and examples will use the older style as `pathlib` is fairly recent.  The written text will use `pathlib`'s approach.</p>
<p>Now that we&rsquo;ve seen how to handle working with files in Python, let&rsquo;s go through an example program to see how we can apply that knowledge to a real program.</p>
<h2 id="problem-statement">Problem Statement</h2>
<p>Here&rsquo;s a problem statement we can use:</p>
<blockquote>
<p>Write a driver program in Example.py that accepts three files as command line arguments. The first two represent input files, and the third one represents the desired output file. If there aren&rsquo;t three arguments provided, either input file is not an existing file, or the output file is an existing directory, print &ldquo;Invalid Arguments&rdquo; and exit the program. The output file may be an existing file, since it will be overwritten.</p>
</blockquote>
<blockquote>
<p>The program should open each input file and read the contents. Each input file will consist of a list of whole numbers, one per line. If there are any errors parsing the contents of either file, the program should print &ldquo;Invalid Input&rdquo; and exit. As the input is read, the program should keep track of both the count and sum of all even inputs and odd inputs.</p>
</blockquote>
<blockquote>
<p>Once all input is read, the program should create the output file and print the following four items, in this order, one per line: number of even inputs, sum of even inputs, number of odd inputs, sum of odd inputs.</p>
</blockquote>
<blockquote>
<p>Finally, when the program is done, it should simply print &ldquo;Complete&rdquo; and exit. Don&rsquo;t forget to close any open files!</p>
</blockquote>
<p>So, let&rsquo;s break down this problem statement and see if we can build a program to perform this action.</p>
<p>First sketch out the control flow, where and what kind of loops you want to use, what variables you&rsquo;ll create and which modules you will need.</p>
<p>
<a href="#image-154312badc564b57983407c062d3555a" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/9_example_flow.png" alt="Program Sketch" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-154312badc564b57983407c062d3555a">
<img src="https://ksu-cs-textbooks.github.io/cc210/images/11-file/9_example_flow.png" alt="Program Sketch" class="lightbox-image" loading="lazy">
</a></p>
<p>Above is an example sketch for this problem.  It does not contain all the details but does give a guide on how the program might to go.  Notice how the flow chart abstracts away from the class structure &ndash; for an OOP driver program it is detail which is unnecessary to understanding the program flow.</p>
<h2 id="parsing-arguments">Parsing Arguments</h2>
<p>Let&rsquo;s start programming by parsing the command line arguments. First, we&rsquo;ll want to make sure there are exactly three arguments. This is probably best done using an <strong>If</strong> statement, since it makes the code a bit simpler to read than if we would use a <strong>Try-Except</strong> statement. However, either approach will work.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> pathlib <span style="color:#f92672">import</span> Path
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Example</span>:
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@classmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(cls, args):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> len(args) <span style="color:#f92672">!=</span> <span style="color:#ae81ff">4</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;Invalid Arguments&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#75715e"># retruning from main exits the program</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name___ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
</span></span><span style="display:flex;"><span>    Example<span style="color:#f92672">.</span>main(sys<span style="color:#f92672">.</span>argv)</span></span></code></pre></div><p>Don&rsquo;t forget that <code>sys.argv</code> includes the name of the program, so we&rsquo;ll really need to make sure that there are 4 arguments in total.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Look Before You Leap</div>
  <div class="box-content">

<p>In general, you should check for detectable errors rather than handling them with <strong>try-except</strong> blocks.</p>
<p>For example, the code snippet above could be skipped and an IndexOutOfBoundsError caught later when access to a missing argument is attempted.  But exceptions and exception handlers are many times slower than regular conditional comparison when they are thrown.</p>
<p>Additionally, the logic of the <strong>IF</strong> statements is more clear&ndash;it does not require a reader to be familiar with the exceptions which your code can throw then scanning &ldquo;except&rdquo; blocks to see which ones are handled.</p>
<p>An exception to this &ldquo;Look Before You Leap&rdquo; approach is type checking a variable before using it; more on this in the methods chapter.</p>
</div>
</div>
<p>Next, we&rsquo;ll need to check and make sure that each of the first two arguments is a valid file that we can open. Since we intend to open them anyway, let&rsquo;s just use a <strong>Try-Except</strong> statement containing a <strong>With</strong> statement:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>in_file1 <span style="color:#f92672">=</span> Path(args[<span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>in_file2 <span style="color:#f92672">=</span> Path(args[<span style="color:#ae81ff">2</span>])
</span></span><span style="display:flex;"><span>out_file1 <span style="color:#f92672">=</span> Path(args[<span style="color:#ae81ff">3</span>])
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> in_file1<span style="color:#f92672">.</span>is_file() <span style="color:#f92672">or</span> <span style="color:#f92672">not</span> in_file2<span style="color:#f92672">.</span>is_file():
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;Invalid Arguments&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> in_file1<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> scanner1, in_file2<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> scanner2, out_file1<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#34;w&#34;</span>) <span style="color:#66d9ef">as</span> writer:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># -=-=-=-=- MORE CODE GOES HERE -=-=-=-=- </span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">IOError</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>  print(<span style="color:#e6db74">&#34;Invalid Arguments&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -=-=-=-=- MORE EXCEPTIONS GO HERE -=-=-=-=- </span></span></span></code></pre></div><p>There are a few new things in this code that we haven&rsquo;t seen before:</p>
<ul>
<li>We can include multiple variables in a <strong>With</strong> statement by simply separating them with a comma <code>,</code>.</li>
<li>Since we aren&rsquo;t worrying about reading input from <code>sys.stdin</code>, we can just open our files directly in the <strong>With</strong> statement. Actually, this makes the code very straightforward.</li>
<li>Recall that the <code>sys.argv</code> variable is actually a list, so we can access additional command line arguments by simply using different list indices. We haven&rsquo;t done that yet, but it should make sense.</li>
</ul>
<p>Now that we&rsquo;ve confirmed that we can open each file, we can start coding the program&rsquo;s logic. For the rest of this example, we&rsquo;ll look at a smaller portion of the code. That code can be placed where the <code>MORE CODE GOES HERE</code> comment is in the skeleton above. We&rsquo;ll also need to handle a few more exceptions, which can be added where the <code>MORE EXCEPTIONS GO HERE</code> comment is above.</p>
<h2 id="logic">Logic</h2>
<p>The program&rsquo;s logic should be pretty straightforward. First, we&rsquo;ll need to create loops to read input from each input file:</p>
<p>Notice that we are using two separate <strong>For</strong> loops here. Since we are dealing with two different input files that are unrelated, this is the simplest way to go.</p>
<p>Next, we can parse the input to an integer, and then determine if it is even or odd:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> scanner1:
</span></span><span style="display:flex;"><span>  line <span style="color:#f92672">=</span> line<span style="color:#f92672">.</span>strip()
</span></span><span style="display:flex;"><span>  input <span style="color:#f92672">=</span> int(line)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> input <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># even</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># odd</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> scanner2:
</span></span><span style="display:flex;"><span>  line <span style="color:#f92672">=</span> line<span style="color:#f92672">.</span>strip()
</span></span><span style="display:flex;"><span>  input <span style="color:#f92672">=</span> int(line)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> input <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># even</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># odd</span></span></span></code></pre></div><p>Notice that we are using two separate <strong>For</strong> loops here. Since we are dealing with two different input files that are unrelated, this is the simplest way to go.</p>
<p>Next, we can parse the input to an integer, and then determine if it is even or odd:</p>
<p>Finally, we can add a few state variables to keep track of how many of each type we&rsquo;ve had, and their sum as well:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>countEven <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>countOdd <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>sumEven <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>sumOdd <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> scanner1:
</span></span><span style="display:flex;"><span>  line <span style="color:#f92672">=</span> line<span style="color:#f92672">.</span>strip()
</span></span><span style="display:flex;"><span>  input <span style="color:#f92672">=</span> int(line)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> input <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>    countEven <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    sumEven <span style="color:#f92672">+=</span> input
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    countOdd <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    sumOdd <span style="color:#f92672">+=</span> input
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> scanner2:
</span></span><span style="display:flex;"><span>  line <span style="color:#f92672">=</span> line<span style="color:#f92672">.</span>strip()
</span></span><span style="display:flex;"><span>  input <span style="color:#f92672">=</span> int(line)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> input <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>    countEven <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    sumEven <span style="color:#f92672">+=</span> input
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    countOdd <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    sumOdd <span style="color:#f92672">+=</span> input</span></span></code></pre></div><h2 id="exceptions">Exceptions</h2>
<p>In the new code above, we are converting strings to integers, which could result in a ValueError. So, we&rsquo;ll need to add one more <code>except</code> block to the <strong>Try-Except</strong> statement in the skeleton at the top of this page:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ValueError</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>  print(<span style="color:#e6db74">&#34;Invalid Input&#34;</span>)</span></span></code></pre></div><p>That will handle any problems with the input files themselves.</p>
<h2 id="printing-output">Printing Output</h2>
<p>Finally, we can simply print our four variables to the output file:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>countEven <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>countOdd <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>sumEven <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>sumOdd <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> scanner1:
</span></span><span style="display:flex;"><span>  line <span style="color:#f92672">=</span> line<span style="color:#f92672">.</span>strip()
</span></span><span style="display:flex;"><span>  input <span style="color:#f92672">=</span> int(line)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> input <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>    countEven <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    sumEven <span style="color:#f92672">+=</span> input
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    countOdd <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    sumOdd <span style="color:#f92672">+=</span> input
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> scanner2:
</span></span><span style="display:flex;"><span>  line <span style="color:#f92672">=</span> line<span style="color:#f92672">.</span>strip()
</span></span><span style="display:flex;"><span>  input <span style="color:#f92672">=</span> int(line)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> input <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>    countEven <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    sumEven <span style="color:#f92672">+=</span> input
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    countOdd <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    sumOdd <span style="color:#f92672">+=</span> input
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(countEven))
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(sumEven))
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(countOdd))
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(sumOdd))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Complete&#34;</span>)</span></span></code></pre></div><p>The four lines at the end should be pretty self-explanatory. We can simply print each number, but we&rsquo;ll need to convert them to a string first. The simplest way to do that is to use the <code>.format()</code> method to create a formatted string. We&rsquo;ll  also need to remember to print a newline between each of them using the <code>\n</code> character. Of course, we also need to print <code>Complete</code> once we are finished!</p>
<h2 id="testing">Testing</h2>
<p>Once we&rsquo;ve completed the code, we can use the button below to test it and see if it works. Don&rsquo;t forget to open the <code>example.pregrade.log.txt</code> file that it creates to see detailed feedback from your program.</p>

  
    
    
  
  
<div class="box notices cstyle noiframe">
  <div class="box-label"><i class="fa-fw fas fa-times-circle"></i> Web Only</div>
  <div class="box-content">

<p>This content is presented in the course directly through Codio. Any references to interactive portions are only relevant for that interface. This content is included here as reference only.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of A Worked Example</h1>
    
    
          </section>
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>Working with files is a very important feature of most computer programs. It can be tedious to manually enter data into a program, and likewise it is very helpful to be able to save the output for use later.</p>
<p>There are many more advanced things that we can do with files. For example, in a later module well see how to build our own objects in code, and then save those objects to a file so we can use them again later.</p>
<p>In general, if your language supports either a try-with-resources or a with construct you should use it. We deliberately skipped it in the early chapter because the syntax and explanation can be daunting.
For now, we can use the power of text files to provide input and output for our programs.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>

        </div>
      </main>
    
<div class="git-footer">
<p class="theme-version-footer">5.18.0</p>
<p>Last modified by: 
            <i class='fas fa-user'></i> Russell Feldhausen
            <i class='fas fa-calendar'></i> <a href="https://gitlab.cs.ksu.edu/cc/210/generic/textbook/-/commit/063dfde2152a295ed6dbac3b66d864d5a5d4d566">Aug 11, 2023</a>
</p>
</div>

    
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/clipboard.min.js?1694721084" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/perfect-scrollbar.min.js?1694721084" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/theme.js?1694721084" defer></script>
  </body>
</html>
