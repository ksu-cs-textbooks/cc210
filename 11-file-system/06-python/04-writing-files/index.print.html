




  
	
	  

  
	
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
	  

  
	
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.128.0">
    <meta name="generator" content="Relearn 6.0.0">
    <meta name="description" content="Beyond just reading data from files, we can also create our own files and write data directly to them.
Opening a File for Writing In Python, we’ll use the .open() method we’ve been using to read from a file to also open a file for writing. So, here’s an example of what that might look like:
import sys from pathlib import Path import io class Writer: @classmethod def main(cls, args): if len(args) &gt; 1: path = Path(args[1]) try: with path.">
    <meta name="author" content="K-State CS Faculty">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Writing Files :: CC 210 Textbook">
    <meta name="twitter:description" content="Beyond just reading data from files, we can also create our own files and write data directly to them.
Opening a File for Writing In Python, we’ll use the .open() method we’ve been using to read from a file to also open a file for writing. So, here’s an example of what that might look like:
import sys from pathlib import Path import io class Writer: @classmethod def main(cls, args): if len(args) &gt; 1: path = Path(args[1]) try: with path.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cc210/11-file-system/06-python/04-writing-files/">
    <meta property="og:site_name" content="CC 210 Textbook">
    <meta property="og:title" content="Writing Files :: CC 210 Textbook">
    <meta property="og:description" content="Beyond just reading data from files, we can also create our own files and write data directly to them.
Opening a File for Writing In Python, we’ll use the .open() method we’ve been using to read from a file to also open a file for writing. So, here’s an example of what that might look like:
import sys from pathlib import Path import io class Writer: @classmethod def main(cls, args): if len(args) &gt; 1: path = Path(args[1]) try: with path.">
    <meta property="og:locale" content="en-us">
    <meta property="og:type" content="website">
    <meta itemprop="name" content="Writing Files :: CC 210 Textbook">
    <meta itemprop="description" content="Beyond just reading data from files, we can also create our own files and write data directly to them.
Opening a File for Writing In Python, we’ll use the .open() method we’ve been using to read from a file to also open a file for writing. So, here’s an example of what that might look like:
import sys from pathlib import Path import io class Writer: @classmethod def main(cls, args): if len(args) &gt; 1: path = Path(args[1]) try: with path.">
    <meta itemprop="dateModified" content="2024-06-27T15:52:41-05:00">
    <meta itemprop="wordCount" content="924">
    <title>Writing Files :: CC 210 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cc210/11-file-system/06-python/04-writing-files/" rel="canonical" type="text/html" title="Writing Files :: CC 210 Textbook">
    <link href="/cc210/11-file-system/06-python/04-writing-files/index.xml" rel="alternate" type="application/rss+xml" title="Writing Files :: CC 210 Textbook">
    <link href="/cc210/11-file-system/06-python/04-writing-files/tele.html" rel="alternate" type="text/html" title="Writing Files :: CC 210 Textbook">
    <link href="/cc210/11-file-system/06-python/04-writing-files/embed.html" rel="alternate" type="text/html" title="Writing Files :: CC 210 Textbook">
    <link href="/cc210/css/fontawesome-all.min.css?1743536038" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc210/css/fontawesome-all.min.css?1743536038" rel="stylesheet"></noscript>
    <link href="/cc210/css/nucleus.css?1743536038" rel="stylesheet">
    <link href="/cc210/css/auto-complete.css?1743536038" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc210/css/auto-complete.css?1743536038" rel="stylesheet"></noscript>
    <link href="/cc210/css/perfect-scrollbar.min.css?1743536038" rel="stylesheet">
    <link href="/cc210/css/fonts.css?1743536038" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc210/css/fonts.css?1743536038" rel="stylesheet"></noscript>
    <link href="/cc210/css/theme.css?1743536038" rel="stylesheet">
    <link href="/cc210/css/theme-auto.css?1743536038" rel="stylesheet" id="R-variant-style">
    <link href="/cc210/css/chroma-auto.css?1743536038" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/cc210/css/variant.css?1743536038" rel="stylesheet">
    <link href="/cc210/css/print.css?1743536038" rel="stylesheet" media="print">
    <link href="/cc210/css/format-print.css?1743536038" rel="stylesheet">
    <script src="/cc210/js/variant.js?1743536038"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cc210';
      window.index_js_url="/cc210/index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
    
    <link href="/cc210/css/custom.css?1743536038" rel="stylesheet">
  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="/cc210/11-file-system/06-python/04-writing-files/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/cc210/11-file-system/"><span itemprop="name">File System</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/cc210/11-file-system/06-python/"><span itemprop="name">Python File System</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Writing Files</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cc210/11-file-system/06-python/03-reading-files/" title="Reading Files (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cc210/11-file-system/06-python/05-example/" title="A Worked Example (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="writing-files">Writing Files</h1>

<!--
<a href="https://www.youtube.com/watch?v=iGPn_vMqZlY">YouTube Video</a>
 -->
<!--[Video Materials](./video) -->
<!-- TODO Update Video -->
<p>Beyond just reading data from files, we can also create our own files and write data directly to them.</p>
<h2 id="opening-a-file-for-writing">Opening a File for Writing</h2>
<p>In Python, we&rsquo;ll use the  <code>.open()</code> method we&rsquo;ve been using to read from a file to also open a file for writing. So, here&rsquo;s an example of what that might look like:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">sys</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">io</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Writer</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nd">@classmethod</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">            <span class="k">try</span><span class="p">:</span> 
</span></span><span class="line"><span class="cl">                <span class="k">with</span> <span class="n">path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&#34;w&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">writer</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="k">pass</span> <span class="c1"># do some writing</span>
</span></span><span class="line"><span class="cl">            <span class="k">except</span> <span class="ne">IOError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">              <span class="c1"># unable to write to the file</span>
</span></span><span class="line"><span class="cl">              <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;IOError: </span><span class="si">{}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>  
</span></span><span class="line"><span class="cl">              <span class="c1"># unable to write to the file</span>
</span></span><span class="line"><span class="cl">              <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Exception: </span><span class="si">{}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></span></span></code></pre></div><p>Let&rsquo;s break this code down into smaller parts so we can understand how it works.</p>
<p>First, we are using a <strong>Try-Except</strong> statement to handle any exceptions that are raised when we use a file.
Next we check to see if a command line argument was provided and if so we make a Path object using it.</p>
<p>Then, we use a <strong>With</strong> statement to handle automatically closing our file once we are done with it. Otherwise, we&rsquo;d need to add a <code>finally</code> block that includes <code>writer.close()</code> to make sure the file is closed properly. If we don&rsquo;t do that step, there is a chance that our data may not get written to the file correctly.</p>
<p>We have the <strong>With</strong> statement :</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">with</span> <span class="n">path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&#34;w&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">writer</span><span class="p">:</span></span></span></code></pre></div><p>This line creates a <em>io</em> object using Path&rsquo;s <code>open()</code> method to open a file. We provide the argument: &ldquo;w&rdquo;, which stands for “write” and allows us to open the file for writing. If we don&rsquo;t provide that argument, it will just open the file for reading.  Then, we use the <code>as</code> keyword to assign it to the variable <code>writer</code>. This is very similar to how we&rsquo;ve already seen the <code>as</code> keyword.</p>
<p>It is important to note that, by default, if the file we are writing to already exists, it will be overwritten with the new output. If it doesn&rsquo;t exist, it will be created. There are ways to open a file and append new data to it without overwriting the file, which we&rsquo;ll discuss below.</p>
<p>Inside of the <strong>With</strong> statement, we see two lines that write data to the file using the <code>write()</code> method. That method can be used to write any string to the file. So, we can use this just like we would <code>print()</code> when writing output to the terminal. We can even use formatted strings!</p>
<p>The second line prints a newline character to the output file. This is because the <code>write()</code> method does not output a newline character by default each time it is used. This is different than <code>print()</code>, which always outputs a newline after each output unless we specify otherwise. So, we need to use <code>\n</code> each time we want to print a newline to the file.</p>
<p>Finally, there are several exception handlers at the end of the <strong>Try-Except</strong> statement. They handle the most common exceptions that can occur when opening and writing to a file, but may not account for all possible exceptions. So, we&rsquo;ve also included a block to catch the generic <code>Exception</code> as well.</p>
<h2 id="open-modes">Open Modes</h2>
<p>When opening a file, we can also give a set of options, known as <em>modes</em> in Python, to specify how we&rsquo;d like to handle the file when it is opened. By default, when we use the <code>open()</code> method to open a file, it uses the following option:</p>
<ul>
<li><code>r</code> - open for reading</li>
</ul>
<p>If we&rsquo;d like to change those options, we can specify them when opening the file. For example, if we&rsquo;d like to append to an existing file, we can use the following code in our <strong>With</strong> statement to open the file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">with</span> <span class="n">path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&#34;a&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">writer</span><span class="p">:</span></span></span></code></pre></div><p>There are many other modes available in Python.</p>
<h2 id="flushing-output-buffers">Flushing Output Buffers</h2>
<p>When writing data to a file using a program, it is important to understand how the underlying operating system handles that process. In many cases, the operating system will store, or <em>buffer</em> the output in memory, then write the output directly to the file a bit later. This allows the operating system to tell our program that the write was successful while it waits for the storage device the file is actually stored on to respond. So, our programs appear to run very quickly.</p>
<p>However, at times we want to tell the operating system to write the data it has stored in memory directly to the file. To do that, we can use the <code>flush()</code> method of our file object to <em>flush the buffer</em>, or make sure the data is written to the file. Here&rsquo;s an example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&#34;Hello World&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">writer</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&#34;More data&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">writer</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></span></span></code></pre></div><p>Thankfully, the <code>close()</code> method will automatically write any buffered data to the file before closing it. So, we can either use the <code>close()</code> method ourselves, or use a <strong>With</strong> statement to make sure that the file is closed automatically for us.</p>
<p>We can even use <code>sys.stdout.flush()</code> to perform the same operation when printing output to the terminal. In most cases all of our output is printed directly to the terminal, but we can make sure that the output buffer is empty by using the <code>sys.stdout.flush()</code> method anytime.</p>
<h2 id="example">Example</h2>
<p>Here&rsquo;s another quick example program to make sure we are able to write to files correctly. Feel free to adapt the code above to complete the exercise.</p>

  
    
    
  
  
<div class="box notices cstyle noiframe">
  <div class="box-label"><i class="fa-fw fas fa-times-circle"></i> Web Only</div>
  <div class="box-content">

<p>This content is presented in the course directly through Codio. Any references to interactive portions are only relevant for that interface. This content is included here as reference only.</p>
</div>
</div>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Writing Files</h1>
    
    
          </section>
        </div>
      </main>
    
<div class="git-footer">
  <p class="theme-version-footer">6.0.0</p>
  <p>Last modified by: 
              <i class='fas fa-user'></i> Russell Feldhausen
              <i class='fas fa-calendar'></i> <a href="https://github.com/ksu-cs-textbooks/cc210/commit/ba88b4aae73e2a7fc1f942cd3c35ff1952ef6384">Jun 27, 2024</a>
  </p>
  </div>
  
    
    </div>
    <script src="/cc210/js/clipboard.min.js?1743536038" defer></script>
    <script src="/cc210/js/perfect-scrollbar.min.js?1743536038" defer></script>
    <script src="/cc210/js/theme.js?1743536038" defer></script>
  </body>
</html>
