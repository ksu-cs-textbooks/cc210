




	
	
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="CC 210 Textbook">
    <meta name="author" content="Russell Feldhausen">
    <title>Paths &amp; Managing Resources :: CC 210 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/06-python/01-resources/index.html" rel="canonical" type="text/html" title="Paths &amp; Managing Resources :: CC 210 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/06-python/01-resources/index.xml" rel="alternate" type="application/rss+xml" title="Paths &amp; Managing Resources :: CC 210 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/06-python/01-resources/index.print.html" rel="alternate" type="text/html" title="Paths &amp; Managing Resources :: CC 210 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc210/11-file-system/06-python/01-resources/embed.html" rel="alternate" type="text/html" title="Paths &amp; Managing Resources :: CC 210 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/fontawesome-all.min.css?1694728584" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc210/css/fontawesome-all.min.css?1694728584" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/nucleus.css?1694728584" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/auto-complete.css?1694728584" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc210/css/auto-complete.css?1694728584" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/perfect-scrollbar.min.css?1694728584" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/fonts.css?1694728584" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc210/css/fonts.css?1694728584" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/theme.css?1694728584" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/theme-auto.css?1694728584" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/variant.css?1694728584" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/print.css?1694728584" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/ie.css?1694728584" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/url.js?1694728584"></script>
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/variant.js?1694728584"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cc210/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cc210/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cc210/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cc210/css/custom.css?1694728584" rel="stylesheet">

  </head>
  <body class="mobile-support tele disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cc210/11-file-system/06-python/01-resources/index.html">
    
    <div id="tele" class="tele mirror">
    
    <div id="body" class="default-animation">
      
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>
<h1 id="paths--managing-resources">Paths &amp; Managing Resources</h1>

<h2 id="path-vs-file-objects">Path vs File objects</h2>
<p>In Python 2, the file system was accessed using a variety of functions built into several modules: <code>sys</code>, <code>os</code>, <code>glob</code>, <code>shutil</code> are some of the more common.  The standard way to open a file was with the built-in function <code>open(&lt;str&gt;)</code>.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;myTest.txt&#39;</span>)
</span></span><span style="display:flex;"><span>print (type(a))  <span style="color:#75715e">#&lt;type &#39;file&#39;&gt;</span></span></span></code></pre></div><p>Which attempted to open the file represented by the string and returns a file-object.  <a href="https://docs.python.org/3/c-api/file.html">File-objects</a> could be read, written to and searched.  However, it was not possible or convenient  to rename, move, copy etc the file object.  Making matters worse, path naming conventions vary by operating system, meaning Python 2 programs written for Windows might not work in OS, Android etc.</p>
<p>Python 3 resolves this by introducing in 2014 the <code>Path</code> object in the <code>pathlib</code> module.  <a href="https://docs.python.org/3/c-api/pathlib.html">Path-objects</a> are operating system agnostic<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> and offer a host of methods to support a rich range of operations.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pathlib <span style="color:#f92672">import</span> Path
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> Path(<span style="color:#e6db74">&#39;myTest.txt&#39;</span>)
</span></span><span style="display:flex;"><span>print (type(a))  <span style="color:#75715e">#&lt;class &#39;pathlib.PosixPath&#39;&gt;  Linux (our OS) uses a posix file system</span></span></span></code></pre></div><p>Path objects can be files, directories or place-holders. If they are files they can be opened for reading and writing.  We will use Path-objects for file access in this course, Path-objects are like a supper-set of File-objects.</p>
<h2 id="managing-resources-context">Managing Resources (context)</h2>
<p>There are various resources the Python interpreter, or any computer language, must receive from the operating systems.  The most common are memory and Input/output streams^[a file descriptor is a kind of IO stream].</p>
<h3 id="memory">Memory</h3>
<p>The Python interpreter manages the memory your programs uses.  It occasionally runs a &ldquo;garbage collector&rdquo; which searches for objects that have been deleted or have fallen out of scope and tells the OS to reclaim the memory.  this impacts performance as the garbage collector uses up computer cycles even if there is nothing to collect.</p>
<p>Older languages (notably C) and high  performance languages make memory management the programmer&rsquo;s responsibility.  Programmers allocate (<code>malloc()</code>) and free up memory (<code>free()</code>) as required.  Well written programs of this type are smaller (lower memory footprint) and faster in execution that managed memory languages like Python.</p>
<h3 id="files">Files</h3>
<p>Most programming languages, including Python, leave managing file system up to the programmer.  While a program may make thousands of memory requests a second, they will normally only have a handful of files open at a time.  There is basically one rule:</p>
<p><b>Once A File is Opened it MUST be Closed</b></p>
<p>It can be hard to do this if when File/Path-objects are attributes of a class, object; passed as parameters or when exceptions occur.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span>  <span style="color:#f92672">from</span> pathlib <span style="color:#f92672">import</span> Path
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>  some_path <span style="color:#f92672">=</span> Path(<span style="color:#e6db74">&#39;some_file.txt&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>  in_file <span style="color:#f92672">=</span> some_path<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;r&#39;</span>) 
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>  <span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> in_file:
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>      print(int(line))
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6</span>  in_file<span style="color:#f92672">.</span>close()</span></span></code></pre></div><p>Here we</p>
<ul>
<li>create a Path-object (2)</li>
<li>makes a &ldquo;reader&rdquo; for the Path (3)
<ul>
<li>the &lsquo;.open()&rsquo; gets a file handle (descriptor) from the operating system</li>
</ul>
</li>
<li>for each line in the file it attempts to convert the line to an int then print it (4 -5)</li>
<li>closes the reader (6)
<ul>
<li>this tells the OS to free-up or delete the file handle</li>
</ul>
</li>
</ul>
<p>That is fine, as long as there is no error.</p>
<p>But what if a line in the file were &lsquo;cat&rsquo;.  Certainly an exception would get thrown, &lsquo;cat&rsquo; cannot be turned into an <code>int</code>.</p>
<p>The program would terminate, but the OS will not be told to free file handler.  This is bad as the more file handlers that are open, the slower performance.  When  writing to files there are additional hazards:</p>
<ul>
<li>not everything may get written</li>
<li>there is a small chance you corrupt the OS&rsquo;s file-control block, making the file and possibly the directory, unusable</li>
</ul>
<p>To help with this Python has built in a context management function: <code>with .. as .. :</code>.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> <span style="color:#f92672">&lt;</span>item<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">as</span> <span style="color:#f92672">&lt;</span>identifier<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span><span style="color:#f92672">-</span>body</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span>  <span style="color:#f92672">from</span> pathlib <span style="color:#f92672">import</span> Path
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>  some_path <span style="color:#f92672">=</span> Path(<span style="color:#e6db74">&#39;some_file.txt&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>  <span style="color:#66d9ef">with</span> some_path<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> in_file:
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>      <span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> in_file:
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>          print(line)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6</span></span></span></code></pre></div><p>Here we</p>
<ul>
<li>create a Path-object (2) to the file</li>
<li>open the Path for reading (3) using the alias &lsquo;in_file&rsquo;</li>
<li>for each line in the file it attempts to convert the line to an int then print it (4 -5)</li>
<li>closes the reader (6)
** this behavior is built into the <code>with</code> structure</li>
</ul>
<p><code>with</code> will ensure that the <code>.close()</code>  is run on <code>in_file</code> whenever the context (with block) is left.  It will do this even if the reason for leaving the with-block is an unhandled exception.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> <strong>enter</strong>() and <strong>exit</strong>()</div>
  <div class="box-content">

<p>The <code>with</code> statement runs a special enter-method when the with-block starts and exit-method when it finishes.  This is based on the type (class) of the item you create.  With <code>Path-object.open()</code> creates a <code>io.TextIOWrapper</code>, which is a kind of stream which has these special methods defined.</p>
<p>Writing these methods requires detailed knowledge of the operating systems, network protocols and application specific &ldquo;shutdown&rdquo; procedures.</p>
<p>Imagine the complexity of shutting down a networked database session that uses multiple network connections for speed and redundancy.  In this case, <code>__exit__()</code> might have to properly sequence database, network and parallel thread &ldquo;shutdown&rdquo; activities to ensure no corrupt data gets to the database and the network connections can be re-established.</p>
</div>
</div>
<p>You should always wrap your <strong>file</strong> reads and writes in a <code>with</code>-statement.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>When Python is installed, it sets up the <code>pathlib</code> module for the installed OS&ndash; allowing the &ldquo;generic&rdquo; path constructs to access the file system&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>
        </div>
      </main>
    </div>
    
    </div>
    
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/clipboard.min.js?1694728590" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/perfect-scrollbar.min.js?1694728590" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/theme.js?1694728590" defer></script>
    
    <script src="https://ksu-cs-textbooks.github.io/cc210/js/tele-scroll.js?1694728590 defer"></script>
    
  </body>
</html>
